(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{127:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(106),i=n.n(a),r=(n(127),n(21)),s=n(13),o=n(165),u=n(151),j=n(152),l=n(153),b=n(163),d=n(48),O=n(93),h=(n(129),n(138),n(139),O.a.initializeApp({apiKey:"AIzaSyAIUyXqlnq0_p7Dtoej_vx1nQvWS-qUcU0",authDomain:"react-69990.firebaseapp.com",databaseURL:"https://react-69990-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-69990",storageBucket:"react-69990.appspot.com",messagingSenderId:"569670275960",appId:"1:569670275960:web:872cb0c1b85921ca502e8d"})),x=O.a.auth(),p=h.firestore(),f=h.database(),m=n(8),g=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){f.ref("/list").on("value",(function(e){var t=e.val()||null;t&&a(Object.values(t))}))}),[]),Object(m.jsxs)(o.c,{pt:6,spacing:4,children:[Object(m.jsx)(u.a,{pb:3,children:"Quizs"}),null!==n&&n.map((function(e,t){return Object(m.jsx)(o.a,{display:"flex",justifyContent:"space-between",borderRadius:30,borderWidth:1,bg:"gray.300",children:Object(m.jsxs)(j.a,{p:4,w:"400px",h:"70px",justifyContent:"space-between",align:"center",children:[Object(m.jsx)(l.a,{fontSize:20,children:e.name}),Object(m.jsx)(d.b,{to:"/Quiz/quiz/".concat(t+1),children:Object(m.jsx)(b.a,{size:"md",height:"48px",width:"100px",borderRadius:15,bg:"gray.800",color:"white",_hover:{bg:"gray.700"},children:"Play"})})]})},e.name)})),")"]})},v=n(155),w=n(157),y=n(167),z=n(69),S=n(156),q=n(168),C=n(0),Q=n.n(C),A=n(4),k=Object(c.createContext)();function W(){return Object(c.useContext)(k)}var U=function(e){var t=Object(c.useState)(),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(),o=Object(s.a)(r,2),u=o[0],j=o[1],l=Object(c.useState)(!0),b=Object(s.a)(l,2),d=b[0],O=b[1],h=function(){var e=Object(A.a)(Q.a.mark((function e(t,n){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.createUserWithEmailAndPassword(t,n).then((function(e){p.collection("users").doc(x.currentUser.uid).set({email:t,uid:e.user.uid,isAdmin:!1})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return x.onAuthStateChanged((function(e){(i(e),e)&&p.collection("users").doc(e.uid).get().then((function(e){j(e.data().isAdmin)}));O(!1)}))}),[]);var f={currentUser:a,signUp:h,login:function(e,t){x.signInWithEmailAndPassword(e,t)},logout:function(){return x.signOut()},isAdmin:u};return Object(m.jsx)(k.Provider,{value:f,children:!d&&e.children})};var I=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),d=l[0],O=l[1],h=Object(c.useState)(""),x=Object(s.a)(h,2),p=x[0],f=x[1],g=Object(c.useRef)(),C=Object(c.useRef)(),Q=W(),A=Q.signUp,k=Q.login,U=Object(r.g)();return Object(m.jsx)(j.a,{width:"full",pt:{base:0,md:12},align:"center",justifyContent:"center",children:Object(m.jsx)(v.a,{borderWidth:{base:0,md:1},width:"full",maxWidth:"500px",px:4,textAlign:"center",borderRadius:4,children:Object(m.jsx)(v.a,{my:4,children:Object(m.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=g.current.value,c=C.current.value;if(f(""),O(!0),n)try{k(t,c),U.replace("/Quiz/")}catch(a){f("Failed to sign in")}else try{A(t,c),U.replace("/Quiz/")}catch(i){f("Failed to create an account")}O(!1)}(e)},children:[p&&Object(m.jsx)(y.a,{status:"error",children:p}),Object(m.jsx)(u.a,{children:n?"Login":"Register"}),Object(m.jsxs)(v.a,{p:4,children:[Object(m.jsxs)(z.a,{children:[Object(m.jsx)(S.a,{htmlFor:"email",children:"Email address"}),Object(m.jsx)(q.a,{id:"email",type:"email",ref:g,placeholder:"Enter your email address",required:!0}),Object(m.jsx)(S.a,{htmlFor:"password",pt:4,children:"Password"}),Object(m.jsx)(q.a,{id:"password",type:"password",ref:C,placeholder:"Enter your password",required:!0})]}),Object(m.jsx)(o.b,{pt:2,children:Object(m.jsx)(w.a,{onClick:function(){a((function(e){return!e}))},children:n?"Create new account":"Login with an existing account"})})]}),Object(m.jsx)(b.a,{type:"submit",disabled:d,width:"full",colorScheme:"blue",children:d?"Sending request...":n?"Sign In":"Sign Up"})]})})})})},R=n(162),E=n(50),D=n(158),N=n(159),F=n(160),P=function(e){var t=e.children,n=e.islast,c=e.to,a=void 0===c?"/":c;return Object(m.jsx)(l.a,{mb:{base:n?0:8,sm:0},mr:{base:0,sm:n?0:8},display:"block",fontSize:"lg",fontWeight:"bold",children:Object(m.jsx)(d.b,{to:a,children:t})})},L=function(e){var t=W(),n=t.currentUser,a=t.logout,i=t.isAdmin,o=Object(c.useState)(!1),u=Object(s.a)(o,2),b=u[0],O=u[1],h=Object(r.g)();return Object(m.jsx)(j.a,Object(E.a)(Object(E.a)({as:"nav",mb:4,p:4,bg:"blue.500",color:"white"},e),{},{children:Object(m.jsx)(D.a,{maxW:"container.lg",children:Object(m.jsxs)(j.a,Object(E.a)(Object(E.a)({justify:"space-between",align:"center",wrap:"wrap"},e),{},{children:[Object(m.jsx)(v.a,{children:Object(m.jsx)(l.a,{fontSize:"2xl",fontWeight:"bold",children:Object(m.jsx)(d.b,{to:"/Quiz/",children:"Quiz"})})}),Object(m.jsx)(v.a,{display:{base:"block",md:"none"},onClick:function(){return O(!b)},children:b?Object(m.jsx)(N.a,{}):Object(m.jsx)(F.a,{})}),Object(m.jsx)(v.a,{display:{base:b?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"},children:Object(m.jsxs)(j.a,{align:"center",justify:["center","space-between"],direction:["column","row"],children:[n&&i?Object(m.jsx)(P,{to:"/Quiz/create-quiz",children:"Create Quiz"}):"",n?Object(m.jsx)(w.a,{style:{textDecoration:"none"},fontSize:"lg",fontWeight:"bold",islast:"true",onClick:function(e){e.preventDefault(),a(),h.push("/Quiz/")},children:"Logout"}):Object(m.jsx)(P,{to:"/Quiz/auth",islast:"true",children:"Sign In"})]})})]}))})}))},B=n(164),_=n(6),J=n(161),T=function(e){return Object(m.jsx)(v.a,{maxW:"500px",w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:Object(m.jsx)(v.a,{bg:"gray.800",children:Object(m.jsx)(l.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,children:"Score: ".concat(e.score," / ").concat(e.total)})})})},K=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),u=Object(s.a)(i,2),d=u[0],O=u[1],h=Object(c.useState)(!1),x=Object(s.a)(h,2),p=x[0],g=x[1],w=Object(c.useState)(0),y=Object(s.a)(w,2),z=y[0],S=y[1],q=Object(r.h)().quizId-1;Object(c.useEffect)((function(){f.ref("/list").on("value",(function(e){var t=e.val()||null;if(t){var n=Object.values(t);a(n[q])}}))}),[]);return Object(m.jsx)("div",{children:null!==n&&Object(m.jsxs)(J.a,{py:9,flexDirection:"column",children:[Object(m.jsx)(l.a,{textAlign:"center",fontSize:"25",fontWeight:"bold",py:4,children:p?"Quiz Results":"Question ".concat(d+1," of ").concat(n.questions.length)}),!p&&Object(m.jsxs)(v.a,{maxW:"500px",w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:[Object(m.jsx)(v.a,{bg:"gray.800",children:Object(m.jsx)(l.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,children:n.questions[d].question})}),Object(m.jsx)(o.c,{spacing:4,pt:8,children:n.questions[d].answers.map((function(e){var t;return Object(m.jsx)(b.a,{borderRadius:15,height:45,value:e.isCorrect,onClick:function(t){return e.isCorrect&&S(z+1),void(d+1<n.questions.length?O(d+1):g(!0))},children:Object(m.jsxs)(j.a,(t={align:"center",p:4,w:"400px"},Object(_.a)(t,"align","center"),Object(_.a)(t,"children",[Object(m.jsx)(l.a,{fontSize:28,px:2,fontWeight:"bold",children:e.id}),Object(m.jsx)(l.a,{pl:4,fontSize:20,children:e.name})]),t))},e.name)}))})]}),p&&Object(m.jsx)(T,{score:z,total:n.questions.length})]})})},X=n(19),G=n(85),H=n(169),M=function(){var e=Object(c.useRef)(),t=Object(c.useState)([[]]),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(1),o=Object(s.a)(r,2),j=o[0],d=o[1],O=Object(c.useState)("1"),h=Object(s.a)(O,2),x=h[0],p=h[1],g=Object(c.useState)([{}]),w=Object(s.a)(g,2),y=w[0],C=w[1];function Q(e){for(var t=[],n=0;n<+j;n++){for(var c=[],i=0;i<4;i++)c.push({id:"A",name:a[n][i],isCorrect:x==i});t.push({question:y[n].question,answers:c})}return t}return Object(m.jsxs)(J.a,{py:9,flexDirection:"column",children:[Object(m.jsx)(u.a,{children:"Create Quiz"}),Object(m.jsx)(v.a,{width:700,children:Object(m.jsxs)(z.a,{children:[Object(m.jsx)(S.a,{htmlFor:"name",id:"name",children:"Quiz Name"}),Object(m.jsx)(q.a,{required:!0,ref:e,id:"name",type:"text",placeholder:"Enter quiz name",mb:10,width:300}),Object(m.jsx)(l.a,{align:"center",fontSize:"3xl",fontWeight:"bold",children:"Questions"}),y.map((function(e,t){return Object(m.jsxs)(v.a,{pb:20,className:"form-inline",children:[Object(m.jsxs)(v.a,{children:[Object(m.jsxs)(v.a,{mb:10,children:[Object(m.jsx)(S.a,{children:"Question"}),Object(m.jsx)(q.a,{type:"text",name:"question",value:e.question||"",onChange:function(e){return function(e,t){var n=Object(X.a)(y);n[e][t.target.name]=t.target.value,C(n)}(t,e)}})]}),Object(m.jsx)(G.a,{children:Object(m.jsx)(v.a,{display:"flex",justifyContent:"space-between",children:Array(4).fill(1).map((function(e,n){return Object(m.jsxs)(v.a,{children:[Object(m.jsx)(S.a,{children:"Choice ".concat(n+1)}),Object(m.jsx)(q.a,{type:"text",name:"choice",value:a[t][n],onChange:function(e){return function(e,t,n){var c=Object(X.a)(a);c[e][t]=n.target.value,i(c)}(t,n,e)},width:40}),Object(m.jsx)(H.a,{value:"".concat(n),onClick:function(e){return p(e.target.value)},children:"Correct answer"})]},n)}))})})]}),t?Object(m.jsx)(b.a,{mt:30,type:"button",className:"button remove",onClick:function(){return function(e){var t=Object(X.a)(y),n=Object(X.a)(a);t.splice(e,1),n.splice(e,1),C(t),i(n),d((function(e){return e-1}))}(t)},children:"Remove"}):null]},t)})),Object(m.jsxs)("div",{className:"button-section",children:[Object(m.jsx)(b.a,{mr:6,className:"button add",type:"button",onClick:function(){C([].concat(Object(X.a)(y),[[]])),i([].concat(Object(X.a)(a),[[]])),d((function(e){return e+1}))},children:"Add question"}),Object(m.jsx)(b.a,{className:"button submit",onClick:function(){var t=e.current.value;f.ref().child("/list").push({name:t,questions:Q()})},children:"Submit"})]})]})})]})},V=n(113),Y=["component"];function Z(e){var t=e.component,n=Object(V.a)(e,Y),c=W(),a=c.currentUser,i=c.isAdmin;return Object(m.jsx)(r.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return i&&a?Object(m.jsx)(t,Object(E.a)({},e)):Object(m.jsx)(r.a,{to:"/Quiz/"})}}))}var $=function(){return Object(m.jsx)(B.a,{children:Object(m.jsxs)(U,{children:[Object(m.jsx)(R.a,{}),Object(m.jsx)(L,{}),Object(m.jsxs)(r.d,{children:[Object(m.jsx)(r.b,{path:"/Quiz/",exact:!0,component:g}),Object(m.jsx)(r.b,{path:"/Quiz/auth",component:I}),Object(m.jsx)(Z,{path:"/create-quiz",component:M}),Object(m.jsx)(r.b,{path:"/Quiz/quiz/:quizId",component:K}),Object(m.jsx)(r.b,{path:"*",children:Object(m.jsx)(r.a,{to:"/Quiz/"})})]})]})})};i.a.render(Object(m.jsx)(d.a,{children:Object(m.jsx)($,{})}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.e2b4108d.chunk.js.map