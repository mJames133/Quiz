{"version":3,"sources":["components/firebase.js","stores/auth-context.js","stores/quiz-context.js","components/Main.js","components/Auth.js","components/NavBar/Navigation.js","components/Quiz/Score.js","components/Quiz/Quiz.js","components/Users.js","components/Quiz/CreateQuiz.js","PrivateRoute.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","realdatabase","database","AuthContext","createContext","useAuth","useContext","AuthContextProvider","props","useState","currentUser","setCurrentUser","isAdmin","isMod","roles","setRoles","loading","setLoading","error","setError","history","useHistory","signUp","email","password","firstName","lastName","passwordConfirm","a","length","createUserWithEmailAndPassword","then","newUser","collection","doc","uid","set","userInfo","user","catch","useEffect","onAuthStateChanged","replace","get","response","data","contextValue","login","signInWithEmailAndPassword","logout","signOut","Provider","value","children","QuizContext","quizReducer","state","action","type","editQuiz","initialState","useStore","QuizContextProvider","useReducer","dispatch","Main","quizs","setQuizs","quizID","setQuizID","toast","useToast","renderData","ref","on","querySnapshot","val","Object","values","getOwnPropertyNames","pt","spacing","pb","map","quiz","row","display","justifyContent","borderRadius","borderWidth","bg","p","w","base","md","h","align","fontSize","name","mr","colorScheme","icon","Edit","onClick","editQuizHandler","Delete","child","remove","removeQuizHandler","size","height","width","color","_hover","push","position","title","description","status","duration","isClosable","playQuizHandler","Auth","isLogin","setIsLogin","isLoading","setIsLoading","emailInputRef","useRef","firstNameInputRef","lastNameInputRef","passwordInputRef","passwordConfirmInputRef","maxWidth","px","textAlign","my","onSubmit","event","preventDefault","enteredEmail","current","enteredPassword","enteredLastName","enteredFirstName","enteredConfirmPassword","htmlFor","id","placeholder","required","disabled","prevState","Header","show","setShow","clickHandler","MenuItem","islast","to","isCreate","mb","sm","fontWeight","as","maxW","justify","wrap","Close","Hamburger","flexBasis","direction","style","textDecoration","e","Chart","pluginService","register","beforeDraw","chart","config","options","elements","center","ctx","centerConfig","fontStyle","txt","text","maxFontSize","sidePaddingCalculated","sidePadding","innerRadius","font","stringWidth","measureText","elementWidth","widthRatio","newFontSize","Math","floor","elementHeight","fontSizeToUse","min","minFontSize","lineHeight","wrapText","undefined","textBaseline","centerX","chartArea","left","right","centerY","top","bottom","fillStyle","fillText","words","split","line","lines","n","testLine","Score","scoree","score","total","datasets","backgroundColor","boxShadow","overflow","rounded","textTransform","py","legend","toFixed","tooltips","enabled","Quiz","questions","setQuestions","currentQuest","setCurrentQuest","showScore","setShowScore","setScore","quizNameKey","setQuizNameKey","params","useParams","currentPage","quizId","tempData","flexDirection","question","answers","isCorrect","snapshot","pl","Users","users","setUsers","forEach","overflowX","variant","onChange","userData","newValue","target","update","selectInputHandler","defaultValue","role","CreateQuiz","setName","newChoices","setNewChoices","choices","setChoices","correctAns","setCorrectAns","formValues","setFormValues","IdQuiz","forms","choicess","newChoicess","newCorrect","i","choicesName","j","QuestionList","questionList","String","fromCharCode","toUpperCase","once","dataName","element","index","className","newFormValues","changeQuestionHandler","flexWrap","Array","fill","_","newArr","updateChoices","isRequired","correctAnswers","updateCorrectAns","tempChoices","handleAddChoices","handleRemoveChoices","mt","choiceValues","splice","slice","removeFormFields","PrivateModRoute","Component","component","rest","render","PrivateRoute","App","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2ec355b2.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\nimport \"firebase/compat/database\";\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAIUyXqlnq0_p7Dtoej_vx1nQvWS-qUcU0\",\r\n  authDomain: \"react-69990.firebaseapp.com\",\r\n  databaseURL:\r\n    \"https://react-69990-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"react-69990\",\r\n  storageBucket: \"react-69990.appspot.com\",\r\n  messagingSenderId: \"569670275960\",\r\n  appId: \"1:569670275960:web:872cb0c1b85921ca502e8d\",\r\n});\r\nexport const auth = firebase.auth();\r\nexport const db = app.firestore();\r\nexport const realdatabase = app.database();\r\n\r\nexport default app;\r\n","import { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { auth, db } from \"../components/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [roles, setRoles] = useState([{ isAdmin: false, isMod: false }]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const signUp = async (\r\n    email,\r\n    password,\r\n    firstName,\r\n    lastName,\r\n    passwordConfirm\r\n  ) => {\r\n    if (password.length < 6) {\r\n      return setError(\"Password should have at least 6 characters.\");\r\n    }\r\n    if (password !== passwordConfirm) {\r\n      return setError(\"Password doesnt match\");\r\n    }\r\n\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((newUser) => {\r\n        const userRef = db.collection(\"users\").doc(auth.currentUser.uid);\r\n        userRef.set({\r\n          userInfo: {\r\n            firstName,\r\n            lastName,\r\n            email: email,\r\n            uid: newUser.user.uid,\r\n            roles,\r\n          },\r\n        });\r\n      })\r\n      .catch(() => setError(\"Email is already used!\"));\r\n  };\r\n\r\n  const login = (email, password) => {\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .catch(() => setError(\"Authentication failed!\"));\r\n  };\r\n\r\n  const logout = () => {\r\n    return auth.signOut();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n\r\n      if (user) {\r\n        history.replace(\"/Quiz/\");\r\n\r\n        const userRef = db.collection(\"users\").doc(user.uid);\r\n        userRef.get().then((response) => {\r\n          setRoles(response.data().userInfo.roles);\r\n        });\r\n      }\r\n      setRoles([{ isAdmin: false, isMod: false }]);\r\n      setLoading(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const contextValue = {\r\n    currentUser,\r\n    signUp,\r\n    login,\r\n    logout,\r\n    roles,\r\n    error,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {!loading && props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContextProvider;\r\n","import { useReducer, useContext, createContext } from \"react\";\r\n\r\nconst QuizContext = createContext();\r\n\r\nconst quizReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"EDIT\":\r\n      return { editQuiz: true };\r\n    case \"DEFAULT\":\r\n      return { editQuiz: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  editQuiz: false,\r\n};\r\n\r\nexport const useStore = () => useContext(QuizContext);\r\n\r\nexport const QuizContextProvider = (props) => {\r\n  const [state, dispatch] = useReducer(quizReducer, initialState);\r\n\r\n  return (\r\n    <QuizContext.Provider value={[state, dispatch]}>\r\n      {props.children}\r\n    </QuizContext.Provider>\r\n  );\r\n};\r\n","import {\r\n  HStack,\r\n  VStack,\r\n  Text,\r\n  Flex,\r\n  Button,\r\n  Heading,\r\n  useToast,\r\n  Box,\r\n  IconButton,\r\n} from \"@chakra-ui/react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { realdatabase } from \"./firebase\";\r\nimport { useAuth } from \"../stores/auth-context\";\r\nimport { EditIcon, DeleteIcon } from \"@chakra-ui/icons\";\r\nimport { useStore } from \"../stores/quiz-context\";\r\n\r\nconst Main = () => {\r\n  const [, dispatch] = useStore();\r\n  const [quizs, setQuizs] = useState(null);\r\n  const [quizID, setQuizID] = useState(null);\r\n  const { currentUser, roles } = useAuth();\r\n  const history = useHistory();\r\n  const toast = useToast();\r\n\r\n  const renderData = () => {\r\n    const ref = realdatabase.ref(\"/list\");\r\n    ref.on(\"value\", (querySnapshot) => {\r\n      const data = querySnapshot.val() || null;\r\n      if (data) {\r\n        setQuizs(Object.values(data));\r\n        setQuizID(Object.getOwnPropertyNames(data));\r\n      } else {\r\n        setQuizs(null);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    renderData();\r\n  }, [realdatabase]);\r\n\r\n  const playQuizHandler = (row) => {\r\n    if (!currentUser) {\r\n      toast({\r\n        position: \"bottom-left\",\r\n        title: \"Error\",\r\n        description: \"You should be logged in to play quiz!\",\r\n        status: \"error\",\r\n        duration: 2000,\r\n        isClosable: false,\r\n      });\r\n      return;\r\n    }\r\n    history.push(`/Quiz/quiz/${row + 1}`);\r\n  };\r\n\r\n  const removeQuizHandler = (quiz) => {\r\n    realdatabase.ref(\"/list\").child(quizID[quiz]).remove();\r\n    renderData();\r\n  };\r\n\r\n  const editQuizHandler = (quiz) => {\r\n    dispatch({ type: \"EDIT\" });\r\n\r\n    history.replace(`/Quiz/edit-quiz/${quiz + 1}`);\r\n  };\r\n\r\n  return (\r\n    <VStack pt={6} spacing={4}>\r\n      <Heading pb={3}>Quizs</Heading>\r\n      {quizs !== null &&\r\n        quizs.map((quiz, row) => (\r\n          <HStack\r\n            key={row}\r\n            display=\"flex\"\r\n            justifyContent=\"space-between\"\r\n            borderRadius={30}\r\n            borderWidth={1}\r\n            bg=\"gray.300\"\r\n          >\r\n            <Flex\r\n              p={4}\r\n              w={{ base: \"xs\", md: \"400px\" }}\r\n              h=\"70px\"\r\n              justifyContent=\"space-between\"\r\n              align=\"center\"\r\n            >\r\n              <Text fontSize={20}>{quiz.name}</Text>\r\n              <Box>\r\n                {(roles[0].isAdmin || roles[0].isMod) && (\r\n                  <IconButton\r\n                    mr={2}\r\n                    aria-label=\"Edit Quiz\"\r\n                    colorScheme=\"gray\"\r\n                    icon={<EditIcon />}\r\n                    onClick={() => editQuizHandler(row)}\r\n                  />\r\n                )}\r\n                {(roles[0].isAdmin || roles[0].isMod) && (\r\n                  <IconButton\r\n                    mr={2}\r\n                    aria-label=\"Remove Quiz\"\r\n                    colorScheme=\"gray\"\r\n                    icon={<DeleteIcon />}\r\n                    onClick={() => removeQuizHandler(row)}\r\n                  />\r\n                )}\r\n\r\n                <Button\r\n                  mr={2}\r\n                  size=\"md\"\r\n                  height=\"48px\"\r\n                  width=\"100px\"\r\n                  borderRadius={15}\r\n                  bg=\"gray.800\"\r\n                  color=\"white\"\r\n                  _hover={{ bg: \"gray.700\" }}\r\n                  onClick={() => playQuizHandler(row)}\r\n                >\r\n                  Play\r\n                </Button>\r\n              </Box>\r\n            </Flex>\r\n          </HStack>\r\n        ))}\r\n      )\r\n    </VStack>\r\n  );\r\n};\r\nexport default Main;\r\n","import { useState, useRef } from \"react\";\r\nimport { Flex, Stack, Box, Heading, Link } from \"@chakra-ui/layout\";\r\nimport { Button } from \"@chakra-ui/button\";\r\nimport { Alert } from \"@chakra-ui/alert\";\r\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\r\nimport { Input } from \"@chakra-ui/input\";\r\nimport { useAuth } from \"../stores/auth-context\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction Auth() {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const emailInputRef = useRef();\r\n  const firstNameInputRef = useRef();\r\n  const lastNameInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const passwordConfirmInputRef = useRef();\r\n  const { signUp, login, error } = useAuth();\r\n\r\n  const authSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    setIsLoading(true);\r\n\r\n    if (isLogin) {\r\n      login(enteredEmail, enteredPassword);\r\n    } else {\r\n      const enteredLastName = firstNameInputRef.current.value;\r\n      const enteredFirstName = lastNameInputRef.current.value;\r\n      const enteredConfirmPassword = passwordConfirmInputRef.current.value;\r\n\r\n      signUp(\r\n        enteredEmail,\r\n        enteredPassword,\r\n        enteredLastName,\r\n        enteredFirstName,\r\n        enteredConfirmPassword\r\n      );\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const authSwitchHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n    emailInputRef.current.value = \"\";\r\n    if (firstNameInputRef.current != null) firstNameInputRef.current.value = \"\";\r\n    if (lastNameInputRef.current != null) lastNameInputRef.current.value = \"\";\r\n    if (passwordConfirmInputRef.current != null)\r\n      passwordConfirmInputRef.current.value = \"\";\r\n    passwordInputRef.current.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <Flex\r\n      width=\"full\"\r\n      pt={{ base: 0, md: 12 }}\r\n      align=\"center\"\r\n      justifyContent=\"center\"\r\n    >\r\n      <Box\r\n        borderWidth={{ base: 0, md: 1 }}\r\n        width=\"full\"\r\n        maxWidth=\"500px\"\r\n        px={4}\r\n        textAlign=\"center\"\r\n        borderRadius={4}\r\n      >\r\n        <Box my={4}>\r\n          <form onSubmit={authSubmitHandler}>\r\n            {error && <Alert status=\"error\">{error}</Alert>}\r\n            <Heading>{isLogin ? \"Login\" : \"Register\"}</Heading>\r\n            <Box p={4}>\r\n              <FormControl>\r\n                {!isLogin && (\r\n                  <Box>\r\n                    <FormLabel pt={4} htmlFor=\"email\">\r\n                      First name\r\n                    </FormLabel>\r\n                    <Input\r\n                      id=\"first-name\"\r\n                      type=\"text\"\r\n                      ref={firstNameInputRef}\r\n                      placeholder=\"Enter your first name\"\r\n                      required\r\n                    />\r\n                    <FormLabel pt={4} htmlFor=\"email\">\r\n                      Last name\r\n                    </FormLabel>\r\n                    <Input\r\n                      id=\"Last-name\"\r\n                      type=\"text\"\r\n                      ref={lastNameInputRef}\r\n                      placeholder=\"Enter your last name\"\r\n                      required\r\n                    />\r\n                  </Box>\r\n                )}\r\n                <FormLabel pt={4} htmlFor=\"email\">\r\n                  Email address\r\n                </FormLabel>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  ref={emailInputRef}\r\n                  placeholder=\"Enter your email address\"\r\n                  required\r\n                />\r\n                <FormLabel htmlFor=\"password\" pt={4}>\r\n                  Password\r\n                </FormLabel>\r\n                <Input\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  ref={passwordInputRef}\r\n                  placeholder=\"Enter your password\"\r\n                  required\r\n                />\r\n                {!isLogin && (\r\n                  <Box>\r\n                    <FormLabel htmlFor=\"password\" pt={4}>\r\n                      Confirm Password\r\n                    </FormLabel>\r\n                    <Input\r\n                      id=\"ConfirmPassword\"\r\n                      type=\"password\"\r\n                      ref={passwordConfirmInputRef}\r\n                      placeholder=\"Confirm your password\"\r\n                      required\r\n                    />\r\n                  </Box>\r\n                )}\r\n              </FormControl>\r\n            </Box>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              width=\"full\"\r\n              colorScheme=\"blue\"\r\n            >\r\n              {isLoading\r\n                ? \"Sending request...\"\r\n                : isLogin\r\n                ? \"Sign In\"\r\n                : \"Sign Up\"}\r\n            </Button>\r\n            <Stack pt={2}>\r\n              <Link onClick={authSwitchHandler}>\r\n                {isLogin\r\n                  ? \"Create new account\"\r\n                  : \"Login with an existing account\"}\r\n              </Link>\r\n            </Stack>\r\n          </form>\r\n        </Box>\r\n      </Box>\r\n    </Flex>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","import { useState, useContext } from \"react\";\r\nimport { Container, Flex, Box, Text, Link as LinkText } from \"@chakra-ui/react\";\r\nimport { CloseIcon, HamburgerIcon } from \"@chakra-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../stores/auth-context\";\r\nimport { useStore } from \"../../stores/quiz-context\";\r\n\r\nconst Header = (props) => {\r\n  const { currentUser, logout, roles } = useAuth();\r\n  const [show, setShow] = useState(false);\r\n  const history = useHistory();\r\n  const [, dispatch] = useStore();\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    logout();\r\n    history.push(\"/Quiz/\");\r\n  };\r\n\r\n  const clickHandler = () => {\r\n    dispatch({ type: \"DEFAULT\" });\r\n  };\r\n\r\n  const MenuItem = ({ children, islast, to = \"/\", isCreate }) => {\r\n    return (\r\n      <Text\r\n        mb={{ base: islast ? 0 : 8, sm: 0 }}\r\n        mr={{ base: 0, sm: islast ? 0 : 8 }}\r\n        display=\"block\"\r\n        fontSize=\"lg\"\r\n        fontWeight=\"bold\"\r\n      >\r\n        {isCreate && (\r\n          <Link to={to} onClick={clickHandler}>\r\n            {children}\r\n          </Link>\r\n        )}\r\n        {!isCreate && <Link to={to}>{children}</Link>}\r\n      </Text>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      as=\"nav\"\r\n      mb={4}\r\n      p={4}\r\n      bg={\"blue.500\"}\r\n      color={\"white\"}\r\n      position=\"sticky\"\r\n    >\r\n      <Container maxW=\"container.lg\">\r\n        <Flex justify=\"space-between\" align=\"center\" wrap=\"wrap\" {...props}>\r\n          <Box>\r\n            <Text fontSize=\"2xl\" fontWeight=\"bold\">\r\n              <Link to=\"/Quiz/\">Quiz</Link>\r\n            </Text>\r\n          </Box>\r\n\r\n          <Box\r\n            display={{ base: \"block\", md: \"none\" }}\r\n            onClick={() => setShow(!show)}\r\n          >\r\n            {show ? <CloseIcon /> : <HamburgerIcon />}\r\n          </Box>\r\n\r\n          <Box\r\n            display={{ base: show ? \"block\" : \"none\", md: \"block\" }}\r\n            flexBasis={{ base: \"100%\", md: \"auto\" }}\r\n          >\r\n            <Flex\r\n              align=\"center\"\r\n              justify={[\"center\", \"space-between\"]}\r\n              direction={[\"column\", \"row\"]}\r\n            >\r\n              {currentUser && roles[0].isAdmin && (\r\n                <MenuItem to=\"/Quiz/users\">Users</MenuItem>\r\n              )}\r\n              {currentUser && (roles[0].isMod || roles[0].isAdmin) && (\r\n                <MenuItem isCreate to=\"/Quiz/create-quiz\">\r\n                  Create Quiz\r\n                </MenuItem>\r\n              )}\r\n              {currentUser ? (\r\n                <LinkText\r\n                  style={{ textDecoration: \"none\" }}\r\n                  fontSize=\"lg\"\r\n                  fontWeight=\"bold\"\r\n                  islast=\"true\"\r\n                  onClick={handleLogout}\r\n                >\r\n                  Logout\r\n                </LinkText>\r\n              ) : (\r\n                <MenuItem to=\"/Quiz/auth\" islast=\"true\">\r\n                  Sign In\r\n                </MenuItem>\r\n              )}\r\n            </Flex>\r\n          </Box>\r\n        </Flex>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { Box, Text } from \"@chakra-ui/layout\";\r\nimport { Chart, Doughnut } from \"react-chartjs-2\";\r\nChart.pluginService.register({\r\n  beforeDraw: function (chart) {\r\n    if (chart.config.options.elements.center) {\r\n      // Get ctx from string\r\n      var ctx = chart.chart.ctx;\r\n\r\n      // Get options from the center object in options\r\n      var centerConfig = chart.config.options.elements.center;\r\n      var fontStyle = centerConfig.fontStyle || \"Arial\";\r\n      var txt = centerConfig.text;\r\n      var color = centerConfig.color || \"#000\";\r\n      var maxFontSize = centerConfig.maxFontSize || 75;\r\n      var sidePadding = centerConfig.sidePadding || 20;\r\n      var sidePaddingCalculated = (sidePadding / 100) * (chart.innerRadius * 2);\r\n      // Start with a base font of 30px\r\n      ctx.font = \"30px \" + fontStyle;\r\n\r\n      // Get the width of the string and also the width of the element minus 10 to give it 5px side padding\r\n      var stringWidth = ctx.measureText(txt).width;\r\n      var elementWidth = chart.innerRadius * 2 - sidePaddingCalculated;\r\n\r\n      // Find out how much the font can grow in width.\r\n      var widthRatio = elementWidth / stringWidth;\r\n      var newFontSize = Math.floor(30 * widthRatio);\r\n      var elementHeight = chart.innerRadius * 2;\r\n\r\n      // Pick a new font size so it will not be larger than the height of label.\r\n      var fontSizeToUse = Math.min(newFontSize, elementHeight, maxFontSize);\r\n      var minFontSize = centerConfig.minFontSize;\r\n      var lineHeight = centerConfig.lineHeight || 25;\r\n      var wrapText = false;\r\n\r\n      if (minFontSize === undefined) {\r\n        minFontSize = 20;\r\n      }\r\n\r\n      if (minFontSize && fontSizeToUse < minFontSize) {\r\n        fontSizeToUse = minFontSize;\r\n        wrapText = true;\r\n      }\r\n\r\n      // Set font settings to draw it correctly.\r\n      ctx.textAlign = \"center\";\r\n      ctx.textBaseline = \"middle\";\r\n      var centerX = (chart.chartArea.left + chart.chartArea.right) / 2;\r\n      var centerY = (chart.chartArea.top + chart.chartArea.bottom) / 2;\r\n      ctx.font = fontSizeToUse + \"px \" + fontStyle;\r\n      ctx.fillStyle = color;\r\n\r\n      if (!wrapText) {\r\n        ctx.fillText(txt, centerX, centerY);\r\n        return;\r\n      }\r\n\r\n      var words = txt.split(\" \");\r\n      var line = \"\";\r\n      var lines = [];\r\n\r\n      // Break words up into multiple lines if necessary\r\n      for (var n = 0; n < words.length; n++) {\r\n        var testLine = line + words[n] + \" \";\r\n        var metrics = ctx.measureText(testLine);\r\n        var testWidth = metrics.width;\r\n        if (testWidth > elementWidth && n > 0) {\r\n          lines.push(line);\r\n          line = words[n] + \" \";\r\n        } else {\r\n          line = testLine;\r\n        }\r\n      }\r\n\r\n      // Move the center up depending on line height and number of lines\r\n      centerY -= (lines.length / 2) * lineHeight;\r\n\r\n      for (var n = 0; n < lines.length; n++) {\r\n        ctx.fillText(lines[n], centerX, centerY);\r\n        centerY += lineHeight;\r\n      }\r\n      //Draw text in center\r\n      ctx.fillText(line, centerX, centerY);\r\n    }\r\n  },\r\n});\r\n\r\nconst Score = (props) => {\r\n  const scoree = (props.score / props.total) * 100;\r\n  const data = {\r\n    datasets: [\r\n      {\r\n        data: [scoree, 100 - scoree],\r\n        backgroundColor: [\"#0087c5\", \"#cde0f1\"],\r\n        borderWidth: 0.5,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      maxW={{ base: \"xs\", md: \"500px\" }}\r\n      w=\"full\"\r\n      bg=\"blue.500\"\r\n      pb={8}\r\n      boxShadow={\"2xl\"}\r\n      overflow={\"hidden\"}\r\n      rounded={\"md\"}\r\n    >\r\n      <Box bg=\"gray.800\">\r\n        <Text\r\n          color=\"white\"\r\n          textAlign=\"center\"\r\n          textTransform=\"uppercase\"\r\n          fontSize=\"20\"\r\n          py={3}\r\n        >\r\n          {`Score: ${props.score} / ${props.total}`}\r\n        </Text>\r\n      </Box>\r\n      <Box py={4}>\r\n        <Doughnut\r\n          data={data}\r\n          width={300}\r\n          height={200}\r\n          options={{\r\n            legend: {\r\n              display: false,\r\n            },\r\n            elements: {\r\n              center: {\r\n                text: `${(props.score / props.total).toFixed(2) * 100}%`,\r\n                color: \"white\",\r\n              },\r\n            },\r\n\r\n            tooltips: {\r\n              enabled: false,\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Score;\r\n","import { Box, Center, Flex, Text, Button, VStack } from \"@chakra-ui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { realdatabase, db } from \"../firebase\";\r\nimport { useAuth } from \"../../stores/auth-context\";\r\nimport Score from \"./Score\";\r\n\r\nconst Quiz = () => {\r\n  const [questions, setQuestions] = useState(null);\r\n  const [currentQuest, setCurrentQuest] = useState(0);\r\n  const [showScore, setShowScore] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n  const [quizNameKey, setQuizNameKey] = useState(null);\r\n  const [userData, setUserData] = useState(null);\r\n  const params = useParams();\r\n  const { currentUser } = useAuth();\r\n\r\n  const currentPage = params.quizId - 1;\r\n\r\n  useEffect(() => {\r\n    realdatabase.ref(\"/list\").on(\"value\", (querySnapshot) => {\r\n      const data = querySnapshot.val() || null;\r\n      if (data) {\r\n        const tempData = Object.values(data);\r\n        setQuestions(tempData[currentPage]);\r\n        setQuizNameKey(Object.getOwnPropertyNames(data)[currentPage]);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const answerHandler = (correctAnswer) => {\r\n    if (correctAnswer) {\r\n      setScore(score + 1);\r\n    }\r\n    if (currentQuest + 1 < questions.questions.length) {\r\n      setCurrentQuest(currentQuest + 1);\r\n    } else {\r\n      setShowScore(true);\r\n\r\n      db.collection(\"users\")\r\n        .doc(currentUser.uid)\r\n        .get()\r\n        .then((snapshot) => {\r\n          const data = snapshot.data().userInfo;\r\n\r\n          realdatabase\r\n            .ref()\r\n            .child(\"/list/\")\r\n            .child(quizNameKey)\r\n            .child(\"users\")\r\n            .child(currentUser.uid)\r\n            .set({\r\n              firstName: data.firstName,\r\n              lastName: data.lastName,\r\n              email: data.email,\r\n              score,\r\n            });\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {questions !== null && (\r\n        <Center py={9} flexDirection=\"column\">\r\n          <Text textAlign=\"center\" fontSize=\"25\" fontWeight={\"bold\"} py={4}>\r\n            {showScore\r\n              ? \"Quiz Results\"\r\n              : `Question ${currentQuest + 1} of ${questions.questions.length}`}\r\n          </Text>\r\n          {!showScore && (\r\n            <Box\r\n              maxW={{ base: \"xs\", md: \"500px\" }}\r\n              w=\"full\"\r\n              bg=\"blue.500\"\r\n              pb={8}\r\n              boxShadow={\"2xl\"}\r\n              overflow={\"hidden\"}\r\n              rounded={\"md\"}\r\n            >\r\n              <Box bg=\"gray.800\">\r\n                <Text\r\n                  color=\"white\"\r\n                  textAlign=\"center\"\r\n                  textTransform=\"uppercase\"\r\n                  fontSize=\"20\"\r\n                  py={3}\r\n                  px={10}\r\n                >\r\n                  {questions.questions[currentQuest].question}\r\n                </Text>\r\n              </Box>\r\n              <VStack spacing={4} pt={8}>\r\n                {questions.questions[currentQuest].answers.map((data, row) => (\r\n                  <Button\r\n                    key={row}\r\n                    borderRadius={15}\r\n                    height={45}\r\n                    value={data.isCorrect}\r\n                    onClick={() => answerHandler(data.isCorrect)}\r\n                  >\r\n                    <Flex\r\n                      p={4}\r\n                      align=\"center\"\r\n                      w={{ base: \"200px\", md: \"400px\" }}\r\n                    >\r\n                      <Text fontSize={28} px={2} fontWeight=\"bold\">\r\n                        {data.id}\r\n                      </Text>\r\n                      <Text pl={4} fontSize={20}>\r\n                        {data.name}\r\n                      </Text>\r\n                    </Flex>\r\n                  </Button>\r\n                ))}\r\n              </VStack>\r\n            </Box>\r\n          )}\r\n          {showScore && (\r\n            <Score score={score} total={questions.questions.length} />\r\n          )}\r\n        </Center>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Quiz;\r\n","import {\r\n  Table,\r\n  Thead,\r\n  Tbody,\r\n  Tr,\r\n  Th,\r\n  Td,\r\n  Select,\r\n  Container,\r\n} from \"@chakra-ui/react\";\r\nimport { db } from \"./firebase\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../stores/auth-context\";\r\n\r\nconst Users = () => {\r\n  const { currentUser } = useAuth();\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .get()\r\n      .then(function (snapshot) {\r\n        snapshot.forEach(function (doc) {\r\n          setUsers((prevState) => [...prevState, doc.data().userInfo]);\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const selectRoleValue = (role) => {\r\n    return role.isAdmin ? \"admin\" : role.isMod ? \"mod\" : \"user\";\r\n  };\r\n\r\n  const selectInputHandler = (event, row) => {\r\n    let userData = [...users];\r\n\r\n    const newValue = event.target.value;\r\n    if (newValue === \"mod\") {\r\n      userData[row].roles[0].isAdmin = false;\r\n      userData[row].roles[0].isMod = true;\r\n    }\r\n    if (newValue === \"admin\") {\r\n      userData[row].roles[0].isAdmin = true;\r\n      userData[row].roles[0].isMod = false;\r\n    }\r\n    if (newValue === \"user\") {\r\n      userData[row].roles[0].isAdmin = false;\r\n      userData[row].roles[0].isMod = false;\r\n    }\r\n    setUsers(userData);\r\n\r\n    const userInfo = userData[row];\r\n    const userRef = db.collection(\"users\").doc(userData[row].uid);\r\n    userRef.update({\r\n      userInfo,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container overflowX=\"auto\">\r\n      <Table variant=\"simple\" w=\"xs\">\r\n        <Thead>\r\n          <Tr>\r\n            <Th>Name</Th>\r\n            <Th>Email</Th>\r\n            <Th>Role</Th>\r\n          </Tr>\r\n        </Thead>\r\n        <Tbody>\r\n          {users !== null &&\r\n            users.map((quiz, row) => (\r\n              <Tr key={row}>\r\n                <Td>{`${quiz.firstName + \" \" + quiz.lastName}`}</Td>\r\n                <Td>{`${quiz.email}`}</Td>\r\n\r\n                <Td w=\"full\">\r\n                  <Select\r\n                    disabled={quiz.uid === currentUser.uid}\r\n                    width={170}\r\n                    onChange={(e) => selectInputHandler(e, row)}\r\n                    defaultValue={selectRoleValue(quiz.roles[0])}\r\n                  >\r\n                    <option value=\"admin\">Administrator</option>\r\n                    <option value=\"mod\">Moderator</option>\r\n                    <option value=\"user\">User</option>\r\n                  </Select>\r\n                </Td>\r\n              </Tr>\r\n            ))}\r\n        </Tbody>\r\n      </Table>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {\r\n  Center,\r\n  FormControl,\r\n  Input,\r\n  Heading,\r\n  FormLabel,\r\n  Box,\r\n  Button,\r\n  RadioGroup,\r\n  Radio,\r\n  useToast,\r\n  Flex,\r\n} from \"@chakra-ui/react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { realdatabase } from \"../firebase\";\r\nimport { useStore } from \"../../stores/quiz-context\";\r\n\r\nconst CreateQuiz = () => {\r\n  const [state] = useStore();\r\n  const { editQuiz } = state;\r\n  const toast = useToast();\r\n  const params = useParams();\r\n\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [newChoices, setNewChoices] = useState([4]);\r\n  const [choices, setChoices] = useState([[]]);\r\n  const [correctAns, setCorrectAns] = useState([]);\r\n  const [formValues, setFormValues] = useState([[]]);\r\n\r\n  useEffect(() => {\r\n    if (editQuiz) {\r\n      const ref = realdatabase.ref(\"/list\");\r\n      ref.on(\"value\", (querySnapshot) => {\r\n        const data = querySnapshot.val() || null;\r\n        if (data) {\r\n          const tempData = Object.values(data)[params.IdQuiz - 1];\r\n\r\n          let forms = [];\r\n          let choicess = [];\r\n          let newChoicess = [];\r\n          let newCorrect = [];\r\n          for (let i = 0; i < tempData.questions.length; i++) {\r\n            let choicesName = [];\r\n            forms.push(tempData.questions[i].question);\r\n            for (let j = 0; j < tempData.questions[i].answers.length; j++) {\r\n              choicesName.push(tempData.questions[i].answers[j].name);\r\n              if (tempData.questions[i].answers[j].isCorrect == true) {\r\n                newCorrect[i] = j;\r\n              }\r\n            }\r\n\r\n            choicess.push(choicesName);\r\n            newChoicess.push(tempData.questions[i].answers.length);\r\n          }\r\n          setName(tempData.name);\r\n          setNewChoices(newChoicess);\r\n          setFormValues(forms);\r\n          setChoices(choicess);\r\n          setCorrectAns(newCorrect);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const changeQuestionHandler = (i, e) => {\r\n    let newFormValues = [...formValues];\r\n    newFormValues[i] = e.target.value;\r\n    setFormValues(newFormValues);\r\n  };\r\n\r\n  const updateChoices = (index, row, e) => {\r\n    let newArr = [...choices];\r\n    newArr[index][row] = e.target.value;\r\n    setChoices(newArr);\r\n  };\r\n  const addFormFields = () => {\r\n    setFormValues([...formValues, []]);\r\n    setChoices([...choices, []]);\r\n    setNewChoices([...newChoices, 4]);\r\n    setCorrectAns([...correctAns, null]);\r\n  };\r\n\r\n  const removeFormFields = (i) => {\r\n    let newFormValues = [...formValues];\r\n    let choiceValues = [...choices];\r\n\r\n    newFormValues.splice(i, 1);\r\n    choiceValues.splice(i, 1);\r\n\r\n    setFormValues(newFormValues);\r\n    setChoices(choiceValues);\r\n    setNewChoices((prevState) => prevState.slice(0, -1));\r\n    setCorrectAns((prevState) => prevState.slice(0, -1));\r\n  };\r\n\r\n  const QuestionList = () => {\r\n    let questionList = [];\r\n    for (let i = 0; i < formValues.length; i++) {\r\n      let answers = [];\r\n      for (let j = 0; j < newChoices[i]; j++) {\r\n        answers.push({\r\n          id: String.fromCharCode(97 + j).toUpperCase(),\r\n          name: choices[i][j],\r\n          isCorrect: correctAns[i] == j ? true : false,\r\n        });\r\n      }\r\n\r\n      questionList.push({\r\n        question: formValues[i],\r\n        answers,\r\n      });\r\n    }\r\n    return questionList;\r\n  };\r\n\r\n  const handleAddChoices = (row) => {\r\n    if (newChoices[row] < 5) {\r\n      let tempChoices = [...newChoices];\r\n      tempChoices[row]++;\r\n      setNewChoices(tempChoices);\r\n    }\r\n  };\r\n  const handleRemoveChoices = (row) => {\r\n    if (newChoices[row] > 2) {\r\n      let tempChoices = [...newChoices];\r\n      tempChoices[row]--;\r\n      setNewChoices(tempChoices);\r\n    }\r\n  };\r\n\r\n  const updateCorrectAns = (i, e) => {\r\n    let correctAnswers = [...correctAns];\r\n    correctAnswers[i] = e.target.value;\r\n    setCorrectAns(correctAnswers);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    QuestionList();\r\n\r\n    const ref = realdatabase.ref(\"/list\");\r\n    if (editQuiz) {\r\n      ref.once(\"value\", (snapshot) => {\r\n        const data = snapshot.val();\r\n        const dataName = Object.getOwnPropertyNames(data)[params.IdQuiz - 1];\r\n        ref.child(dataName).update({\r\n          name,\r\n          questions: QuestionList(),\r\n        });\r\n      });\r\n    } else {\r\n      ref.push({\r\n        name,\r\n        questions: QuestionList(),\r\n      });\r\n    }\r\n    toast({\r\n      position: \"bottom-left\",\r\n      title: \"Quiz\",\r\n      description: `Quiz was succesfully ${editQuiz ? \"edited\" : \"created\"}`,\r\n      status: \"success\",\r\n      duration: 5000,\r\n      isClosable: true,\r\n    });\r\n    history.replace(\"/Quiz/\");\r\n  };\r\n\r\n  return (\r\n    <Center align=\"center\" py={9} flexDirection=\"column\">\r\n      <Heading>{editQuiz ? \"Edit Quiz\" : \"Create Quiz\"}</Heading>\r\n      <Box width={{ base: \"xs\", md: \"4xl\" }}>\r\n        <FormControl align=\"left\">\r\n          <form onSubmit={handleSubmit}>\r\n            <FormLabel htmlFor=\"name\" id=\"name\">\r\n              Quiz Name\r\n            </FormLabel>\r\n            <Box>\r\n              <Input\r\n                required\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                id=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter quiz name\"\r\n                mb={10}\r\n                width={{ base: 200, md: 300 }}\r\n              />\r\n              <Heading align=\"center\" fontSize=\"3xl\" fontWeight=\"bold\">\r\n                Questions\r\n              </Heading>\r\n            </Box>\r\n            {formValues.map((element, index) => (\r\n              <Box pb={20} className=\"form-inline\" key={index} align=\"left\">\r\n                <Box>\r\n                  <Box mb={10}>\r\n                    <FormLabel>Question</FormLabel>\r\n                    <Input\r\n                      required\r\n                      type=\"text\"\r\n                      name=\"question\"\r\n                      width={{ base: 200, md: 300 }}\r\n                      value={element || \"\"}\r\n                      onChange={(e) => changeQuestionHandler(index, e)}\r\n                    />\r\n                  </Box>\r\n                  <RadioGroup\r\n                    name={`choice${index}`}\r\n                    value={`${correctAns[index]}`}\r\n                  >\r\n                    <Flex\r\n                      justifyContent={{ base: \"\", md: \"flex-start\" }}\r\n                      flexWrap={{ base: \"wrap\", md: \"nowrap\" }}\r\n                    >\r\n                      {Array(newChoices[index])\r\n                        .fill(1)\r\n                        .map((_, row) => (\r\n                          <Flex\r\n                            key={row}\r\n                            flexWrap=\"wrap\"\r\n                            flexDirection=\"column\"\r\n                            mb={{ base: 5, md: 0 }}\r\n                          >\r\n                            <FormLabel>{`Choice ${row + 1}`}</FormLabel>\r\n\r\n                            <Input\r\n                              required\r\n                              type=\"text\"\r\n                              name=\"choice\"\r\n                              value={choices[index][row]}\r\n                              onChange={(e) => updateChoices(index, row, e)}\r\n                              mr={4}\r\n                              width={200}\r\n                            />\r\n                            <Radio\r\n                              isRequired\r\n                              value={`${row}`}\r\n                              onClick={(e) => updateCorrectAns(index, e)}\r\n                            >\r\n                              Correct answer\r\n                            </Radio>\r\n                          </Flex>\r\n                        ))}\r\n                    </Flex>\r\n                  </RadioGroup>\r\n                  <Button\r\n                    mr={6}\r\n                    className=\"button add\"\r\n                    type=\"button\"\r\n                    onClick={() => handleAddChoices(index)}\r\n                  >\r\n                    Add Choice\r\n                  </Button>\r\n                  <Button\r\n                    mr={6}\r\n                    className=\"button add\"\r\n                    type=\"button\"\r\n                    onClick={() => handleRemoveChoices(index)}\r\n                  >\r\n                    Remove Choice\r\n                  </Button>\r\n                </Box>\r\n                {index ? (\r\n                  <Button\r\n                    mt={30}\r\n                    type=\"button\"\r\n                    className=\"button remove\"\r\n                    onClick={() => removeFormFields(index)}\r\n                  >\r\n                    Remove\r\n                  </Button>\r\n                ) : null}\r\n              </Box>\r\n            ))}\r\n            <Box align=\"center\">\r\n              <Button\r\n                mr={6}\r\n                className=\"button add\"\r\n                type=\"button\"\r\n                onClick={addFormFields}\r\n              >\r\n                Add question\r\n              </Button>\r\n              <Button className=\"button submit\" type=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Box>\r\n          </form>\r\n        </FormControl>\r\n      </Box>\r\n    </Center>\r\n  );\r\n};\r\n\r\nexport default CreateQuiz;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"./stores/auth-context\";\r\n\r\nexport function PrivateModRoute({ component: Component, ...rest }) {\r\n  const { currentUser, roles } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return (roles[0].isMod || roles[0].isAdmin) && currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/Quiz/\" />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n\r\nexport function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser, roles } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return roles[0].isAdmin && currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/Quiz/\" />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport Main from \"./components/Main\";\nimport Auth from \"./components/Auth\";\nimport { CSSReset } from \"@chakra-ui/css-reset\";\nimport { AuthContextProvider } from \"./stores/auth-context\";\nimport Header from \"./components/NavBar/Navigation\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport Quiz from \"./components/Quiz/Quiz\";\nimport Users from \"./components/Users\";\nimport CreateQuiz from \"./components/Quiz/CreateQuiz\";\nimport { QuizContextProvider } from \"./stores/quiz-context\";\nimport { PrivateRoute, PrivateModRoute } from \"./PrivateRoute\";\n\nfunction App() {\n  return (\n    <ChakraProvider>\n      <AuthContextProvider>\n        <QuizContextProvider>\n          <CSSReset />\n          <Header />\n          <Switch>\n            <Route path=\"/Quiz/\" exact component={Main} />\n            <Route path=\"/Quiz/auth\" component={Auth} />\n            <PrivateModRoute path=\"/Quiz/create-quiz\" component={CreateQuiz} />\n            <PrivateModRoute\n              path=\"/Quiz/edit-quiz/:IdQuiz\"\n              component={CreateQuiz}\n            />\n            <PrivateRoute path=\"/Quiz/users\" component={Users} />\n\n            <Route path=\"/Quiz/quiz/:quizId\" component={Quiz} />\n            <Route path=\"*\">\n              <Redirect to=\"/Quiz/\" />\n            </Route>\n          </Switch>\n        </QuizContextProvider>\n      </AuthContextProvider>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}