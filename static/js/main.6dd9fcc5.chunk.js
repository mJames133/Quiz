(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{194:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(64),i=n.n(a),s=(n(194),n(33)),r=n(10),o=n(357),l=n(331),u=n(356),j=n(334),d=n(335),b=n(359),h=n(336),O=n(355),m=n(337),x=n(175),f=n(134),p=(n(196),n(298),n(299),f.a.initializeApp({apiKey:"AIzaSyAIUyXqlnq0_p7Dtoej_vx1nQvWS-qUcU0",authDomain:"react-69990.firebaseapp.com",databaseURL:"https://react-69990-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-69990",storageBucket:"react-69990.appspot.com",messagingSenderId:"569670275960",appId:"1:569670275960:web:872cb0c1b85921ca502e8d"})),g=f.a.auth(),v=p.firestore(),w=p.database(),y=n(1),S=n.n(y),z=n(5),C=n(8),q=Object(c.createContext)();function Q(){return Object(c.useContext)(q)}var N=function(e){var t=Object(c.useState)(),n=Object(r.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)([{isAdmin:!1,isMod:!1}]),l=Object(r.a)(o,2),u=l[0],j=l[1],d=Object(c.useState)(!0),b=Object(r.a)(d,2),h=b[0],O=b[1],m=Object(c.useState)(""),x=Object(r.a)(m,2),f=x[0],p=(x[1],Object(s.g)()),w=function(){var e=Object(z.a)(S.a.mark((function e(t,n,c,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.createUserWithEmailAndPassword(t,n).then((function(e){v.collection("users").doc(g.currentUser.uid).set({userInfo:{firstName:c,lastName:a,email:t,uid:e.user.uid,roles:u}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return g.onAuthStateChanged((function(e){(i(e),e)&&(p.replace("/Quiz/"),v.collection("users").doc(e.uid).get().then((function(e){j(e.data().userInfo.roles)})));j([{isAdmin:!1,isMod:!1}]),O(!1)}))}),[]);var y={currentUser:a,signUp:w,login:function(e,t){return g.signInWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},roles:u,error:f};return Object(C.jsx)(q.Provider,{value:y,children:!h&&e.children})},A=n(338),k=n(339),I=n(340),E=n(341),U=Object(c.createContext)(),P=function(e,t){switch(t.type){case"EDIT":return{editQuiz:!0};case"DEFAULT":return{editQuiz:!1};default:return e}},W={editQuiz:!1},R=function(){return Object(c.useContext)(U)},M=function(e){var t=Object(c.useReducer)(P,W),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(C.jsx)(U.Provider,{value:[a,i],children:e.children})},D=function(){var e=R(),t=Object(r.a)(e,2)[1],n=Object(c.useState)(null),a=Object(r.a)(n,2),i=a[0],f=a[1],p=Object(c.useState)(null),g=Object(r.a)(p,2),v=g[0],y=g[1],S=Object(c.useState)(!1),z=Object(r.a)(S,2),q=z[0],N=z[1],U=Object(c.useState)(null),P=Object(r.a)(U,2),W=P[0],M=P[1],D=Q(),T=D.currentUser,F=D.roles,L=Object(s.g)(),B=Object(o.a)(),_=function(){w.ref("/list").on("value",(function(e){var t=e.val()||null;t?(f(Object.values(t)),y(Object.getOwnPropertyNames(t))):f(null)}))};Object(c.useEffect)((function(){_()}),[w]);var J=function(e){w.ref("/list").child(v[e]).remove(),_()},V=function(e){t({type:"EDIT"}),L.replace("/Quiz/edit-quiz/".concat(e+1))},X=function(e){N((function(e){return!e})),w.ref("/list/"+v[e]).on("value",(function(e){var t=e.val();if(t&&t.users){var n=Object.entries(t.users),c=[];n.map((function(e){c.push(e[1])})),M(c)}}))};return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.a,{children:Object(C.jsxs)(u.a,{isOpen:q,onClose:X,children:[Object(C.jsx)(u.f,{}),Object(C.jsxs)(u.d,{children:[Object(C.jsx)(u.e,{children:"Quiz Stats"}),Object(C.jsx)(u.c,{}),Object(C.jsxs)(u.b,{children:[null==W&&Object(C.jsx)(j.a,{align:"center",children:"No stats found!"}),null!==W&&Object(C.jsxs)(d.a,{variant:"simple",children:[Object(C.jsx)(d.e,{children:Object(C.jsxs)(d.f,{children:[Object(C.jsx)(d.d,{children:"Name"}),Object(C.jsx)(d.d,{children:"Score"})]})}),Object(C.jsx)(d.b,{children:W.map((function(e,t){return Object(C.jsxs)(d.f,{children:[Object(C.jsx)(d.c,{children:"".concat(e.firstName+" "+e.lastName)}),Object(C.jsx)(d.c,{children:"".concat(e.score)})]},t)}))})]})]})]})]})}),Object(C.jsxs)(b.c,{pt:6,spacing:4,children:[Object(C.jsx)(h.a,{pb:3,children:"Quizs"}),null!==i&&i.map((function(e,t){return Object(C.jsx)(b.a,{display:"flex",borderRadius:30,borderWidth:1,bg:"gray.300",py:2,children:Object(C.jsxs)(l.a,{p:4,h:"70px",display:"flex",alignItems:"center",children:[Object(C.jsx)(j.a,{fontSize:20,mr:4,children:e.name}),Object(C.jsxs)(l.a,{display:"flex",alignItems:"center",children:[(F[0].isAdmin||F[0].isMod)&&Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.a,{display:{base:"flex",md:"none"},children:Object(C.jsxs)(O.a,{children:[Object(C.jsxs)(O.d,{w:"160px",children:[Object(C.jsx)(O.b,{}),Object(C.jsxs)(O.c,{justifyContent:"center",display:"flex",children:[Object(C.jsx)(m.a,{mr:2,"aria-label":"Info",colorScheme:"gray",icon:Object(C.jsx)(A.a,{}),onClick:function(){return X(t)}}),Object(C.jsx)(m.a,{mr:2,"aria-label":"Edit Quiz",colorScheme:"gray",icon:Object(C.jsx)(k.a,{}),onClick:function(){return V(t)}}),Object(C.jsx)(m.a,{"aria-label":"Remove Quiz",colorScheme:"gray",icon:Object(C.jsx)(I.a,{}),onClick:function(){return J(t)}})]})]}),Object(C.jsx)(O.e,{children:Object(C.jsx)(m.a,{mr:2,"aria-label":"options",colorScheme:"gray",icon:Object(C.jsx)(E.a,{})})})]})}),Object(C.jsxs)(l.a,{display:{base:"none",md:"flex"},children:[Object(C.jsx)(m.a,{mr:2,"aria-label":"Info",colorScheme:"gray",icon:Object(C.jsx)(A.a,{}),onClick:function(){return X(t)}}),Object(C.jsx)(m.a,{mr:2,"aria-label":"Edit Quiz",colorScheme:"gray",icon:Object(C.jsx)(k.a,{}),onClick:function(){return V(t)}}),Object(C.jsx)(m.a,{mr:2,"aria-label":"Remove Quiz",colorScheme:"gray",icon:Object(C.jsx)(I.a,{}),onClick:function(){return J(t)}})]})]}),Object(C.jsx)(x.a,{mr:2,size:"xs",height:"48px",width:"80px",borderRadius:15,bg:"gray.800",color:"white",_hover:{bg:"gray.700"},onClick:function(){return function(e){T?L.replace("/Quiz/quiz/".concat(e+1)):B({position:"bottom-left",title:"Error",description:"You should be logged in to play quiz!",status:"error",duration:2e3,isClosable:!1})}(t)},children:"Play"})]})]})},t)})),")"]})]})},T=n(37),F=n(342),L=n(345),B=n(70),_=n(343),J=n(363),V=n(344),X=n(172);var H=function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),s=Object(r.a)(i,2),o=s[0],u=s[1],j=Q(),d=j.signUp,O=j.login,m=Object(X.a)(),f=m.register,p=m.handleSubmit,g=m.reset,v=m.getValues,w=m.setError,y=m.formState,S=y.errors,z=y.isSubmitting;return Object(C.jsx)(F.a,{width:"full",pt:{base:0,md:12},align:"center",justifyContent:"center",children:Object(C.jsx)(l.a,{borderWidth:{base:0,md:1},width:"full",maxWidth:"500px",px:4,textAlign:"center",borderRadius:4,children:Object(C.jsx)(l.a,{my:4,children:Object(C.jsxs)("form",{onSubmit:p((function(e){u(!0),n?O(e.email,e.password).catch((function(){return w("auth",{type:"auth",message:"Incorrect email or password"})})):d(e.email,e.password,e.firstName,e.lastName).catch((function(e){var t=e.code;"auth/email-already-in-use"==t&&w("email",{type:"email",message:"Email is already in use."}),"auth/invalid-email"==t&&w("email",{type:"email",message:"Email address is not valid."})})),u(!1)})),children:[Object(C.jsx)(h.a,{children:n?"Login":"Register"}),Object(C.jsxs)(l.a,{p:4,children:[!n&&Object(C.jsxs)(l.a,{children:[Object(C.jsxs)(B.a,{isInvalid:S.firstName,children:[Object(C.jsx)(_.a,{pt:4,htmlFor:"firstName",children:"First name"}),Object(C.jsx)(V.a,Object(T.a)({id:"firstName",placeholder:"Enter your first name"},f("firstName",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsx)(J.a,{children:S.firstName&&S.firstName.message})]}),Object(C.jsxs)(B.a,{isInvalid:S.lastName,children:[Object(C.jsx)(_.a,{pt:4,htmlFor:"lastName",children:"Last name"}),Object(C.jsx)(V.a,Object(T.a)({id:"lastName",placeholder:"Enter your last name"},f("lastName",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsx)(J.a,{children:S.lastName&&S.lastName.message})]})]}),Object(C.jsxs)(B.a,{isInvalid:S.email||S.auth,children:[Object(C.jsx)(_.a,{pt:4,htmlFor:"email",children:"Email address"}),Object(C.jsx)(V.a,Object(T.a)({id:"email",placeholder:"Enter your email address"},f("email",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsxs)(J.a,{children:[S.email&&S.email.message,S.auth&&S.auth.message]})]}),Object(C.jsxs)(B.a,{isInvalid:S.password||S.auth,children:[Object(C.jsx)(_.a,{pt:4,htmlFor:"password",children:"Password"}),Object(C.jsx)(V.a,Object(T.a)({id:"password",type:"password",placeholder:"Enter your password"},f("password",{required:"This is required",minLength:{value:6,message:"Minimum length should be 6"}}))),Object(C.jsxs)(J.a,{children:[S.auth&&S.auth.message,S.password&&S.password.message]})]}),!n&&Object(C.jsxs)(B.a,{isInvalid:S.confirmPassword,children:[Object(C.jsx)(_.a,{pt:4,htmlFor:"password",children:"Confirm Password"}),Object(C.jsx)(V.a,Object(T.a)({id:"confirmPassword",type:"password",placeholder:"Enter your password"},f("confirmPassword",{validate:function(e){return e===v("password")||Object(C.jsx)("span",{children:"Password fields don't match"})},required:"Password required"}))),Object(C.jsx)(J.a,{children:S.confirmPassword&&S.confirmPassword.message})]})]}),Object(C.jsx)(x.a,{type:"submit",isLoading:z,width:"full",colorScheme:"blue",children:o?"Sending request...":n?"Sign In":"Sign Up"}),Object(C.jsx)(b.b,{pt:2,children:Object(C.jsx)(L.a,{onClick:function(){g(),a((function(e){return!e}))},children:n?"Create new account":"Login with an existing account"})})]})})})})},K=n(353),Y=n(346),G=n(347),Z=n(348),$=n(47),ee=function(e){var t=Q(),n=t.currentUser,a=t.logout,i=t.roles,o=Object(c.useState)(!1),u=Object(r.a)(o,2),d=u[0],b=u[1],h=Object(s.g)(),O=R(),m=Object(r.a)(O,2)[1],x=function(e){var t=e.children,n=e.islast,c=e.to,a=void 0===c?"/":c,i=e.isCreate,s=e.onClick;return Object(C.jsxs)(j.a,{mb:{base:n?0:8,sm:0},mr:{base:0,sm:n?0:8},display:"block",fontSize:"lg",fontWeight:"bold",children:[i&&Object(C.jsx)($.b,{to:a,onClick:s,children:t}),!i&&Object(C.jsx)($.b,{to:a,onClick:s,children:t})]})};return Object(C.jsx)(l.a,{as:"nav",mb:4,p:4,bg:"blue.500",color:"white",position:"sticky",children:Object(C.jsx)(Y.a,{maxW:"container.lg",children:Object(C.jsxs)(F.a,Object(T.a)(Object(T.a)({justify:"space-between",align:"center",wrap:"wrap"},e),{},{children:[Object(C.jsx)(l.a,{children:Object(C.jsx)(j.a,{fontSize:"2xl",fontWeight:"bold",children:Object(C.jsx)($.b,{to:"/Quiz/",children:"Quiz"})})}),Object(C.jsx)(l.a,{display:{base:"block",md:"none"},onClick:function(){return b(!d)},children:d?Object(C.jsx)(G.a,{}):Object(C.jsx)(Z.a,{})}),Object(C.jsx)(l.a,{display:{base:d?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"},children:Object(C.jsxs)(F.a,{align:"center",justify:["center","space-between"],direction:["column","row"],children:[n&&i[0].isAdmin&&Object(C.jsx)(x,{to:"/Quiz/users",children:"Users"}),n&&(i[0].isMod||i[0].isAdmin)&&Object(C.jsx)(x,{isCreate:!0,to:"/Quiz/create-quiz",onClick:function(){m({type:"DEFAULT"})},children:"Create Quiz"}),n?Object(C.jsx)(L.a,{style:{textDecoration:"none"},fontSize:"lg",fontWeight:"bold",islast:"true",onClick:function(e){e.preventDefault(),a(),h.push("/Quiz/")},children:"Logout"}):Object(C.jsx)(x,{to:"/Quiz/auth",islast:"true",children:"Sign In"})]})})]}))})})},te=n(358),ne=n(17),ce=n(349),ae=n(117),ie=n(360),se=n(136);se.Chart.pluginService.register({beforeDraw:function(e){if(e.config.options.elements.center){var t=e.chart.ctx,n=e.config.options.elements.center,c=n.fontStyle||"Arial",a=n.text,i=n.color||"#000",s=n.maxFontSize||75,r=(n.sidePadding||20)/100*(2*e.innerRadius);t.font="30px "+c;var o=t.measureText(a).width,l=2*e.innerRadius-r,u=l/o,j=Math.floor(30*u),d=2*e.innerRadius,b=Math.min(j,d,s),h=n.minFontSize,O=n.lineHeight||25,m=!1;void 0===h&&(h=20),h&&b<h&&(b=h,m=!0),t.textAlign="center",t.textBaseline="middle";var x=(e.chartArea.left+e.chartArea.right)/2,f=(e.chartArea.top+e.chartArea.bottom)/2;if(t.font=b+"px "+c,t.fillStyle=i,!m)return void t.fillText(a,x,f);for(var p=a.split(" "),g="",v=[],w=0;w<p.length;w++){var y=g+p[w]+" ";t.measureText(y).width>l&&w>0?(v.push(g),g=p[w]+" "):g=y}f-=v.length/2*O;for(w=0;w<v.length;w++)t.fillText(v[w],x,f),f+=O;t.fillText(g,x,f)}}});var re=function(e){var t=e.score/e.total*100,n={datasets:[{data:[t,100-t],backgroundColor:["#0087c5","#cde0f1"],borderWidth:.5}]};return Object(C.jsxs)(l.a,{maxW:{base:"xs",md:"500px"},w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:[Object(C.jsx)(l.a,{bg:"gray.800",children:Object(C.jsx)(j.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,children:"Score: ".concat(e.score," / ").concat(e.total)})}),Object(C.jsx)(l.a,{py:4,children:Object(C.jsx)(se.Doughnut,{data:n,width:300,height:200,options:{legend:{display:!1},elements:{center:{text:"".concat(100*(e.score/e.total).toFixed(2),"%"),color:"white"}},tooltips:{enabled:!1}}})})]})},oe=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),o=Object(r.a)(i,2),u=o[0],d=o[1],h=Object(c.useState)(!1),O=Object(r.a)(h,2),m=O[0],f=O[1],p=Object(c.useState)(null),g=Object(r.a)(p,2),y=g[0],S=g[1],z=Object(c.useState)(!1),q=Object(r.a)(z,2),N=q[0],A=q[1],k=Object(c.useState)([]),I=Object(r.a)(k,2),E=I[0],U=I[1],P=Object(c.useState)(0),W=Object(r.a)(P,2),R=W[0],M=W[1],D=Object(s.h)(),T=Q().currentUser,L=D.quizId-1;Object(c.useEffect)((function(){N||w.ref("/list").on("value",(function(e){var t=e.val()||null;if(t){var n=Object.values(t);a(n[L].questions),S(Object.getOwnPropertyNames(t)[L])}}))}),[]);return Object(C.jsx)(l.a,{children:null!==n&&Object(C.jsxs)(ce.a,{py:9,flexDirection:"column",children:[Object(C.jsx)(j.a,{textAlign:"center",fontSize:"25",fontWeight:"bold",py:4,children:m?"Quiz Results":"Question ".concat(u+1," of ").concat(n.length)}),!m&&Object(C.jsx)(l.a,{maxW:{base:"xs",md:"500px"},w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:Object(C.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),A(!0),u+1<n.length)d(u+1);else{var t=0;n.map((function(e,n){e.answers.map((function(e,c){e.isCorrect&&c==E[n]&&t++}))})),M(t),f(!0),v.collection("users").doc(T.uid).get().then((function(e){var n=e.data().userInfo;w.ref().child("/list/").child(y).child("users").child(T.uid).set({firstName:n.firstName,lastName:n.lastName,email:n.email,score:t})}))}A(!1)},children:[Object(C.jsx)(l.a,{bg:"gray.800",children:Object(C.jsx)(j.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,px:10,children:n[u].question})}),Object(C.jsx)(b.c,{spacing:2,pt:8,children:Object(C.jsx)(ae.a,{name:"choice",value:"".concat(E[u]),children:n[u].answers.map((function(e,t){return Object(C.jsxs)(F.a,{borderRadius:15,bgColor:"white",my:4,py:1,px:2,align:"center",w:{base:"200px",md:"400px"},onClick:function(){return function(e){var t=Object(ne.a)(E);t[u]=e,U(t)}(t)},children:[Object(C.jsx)(ie.a,{size:"lg",isRequired:!0,value:"".concat(t)}),Object(C.jsx)(j.a,{fontSize:28,px:3,maxW:30,fontWeight:"bold",children:e.id}),Object(C.jsx)(j.a,{pl:4,fontSize:20,children:e.name})]},t)}))})}),Object(C.jsxs)(F.a,{justifyContent:"space-around",children:[Object(C.jsx)(x.a,{onClick:function(){u+1>1&&d(u-1)},children:"Previous question"}),Object(C.jsx)(x.a,{type:"submit",children:n.length-1==u?"Submit quiz":"Next question"})]})]})}),m&&Object(C.jsx)(re,{score:R,total:n.length})]})})},le=n(351),ue=function(){var e=Q().currentUser,t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)([]),u=Object(r.a)(s,2),j=u[0],b=u[1],h=Object(o.a)();Object(c.useEffect)((function(){v.collection("users").get().then((function(e){e.forEach((function(e){b((function(t){return[].concat(Object(ne.a)(t),[e.data().userInfo])}))}))}))}),[]);return Object(C.jsxs)(Y.a,{children:[Object(C.jsx)(l.a,{overflowX:{base:"auto",md:"hidden"},children:Object(C.jsxs)(d.a,{variant:"simple",w:"md",children:[Object(C.jsx)(d.e,{children:Object(C.jsxs)(d.f,{children:[Object(C.jsx)(d.d,{children:"Name"}),Object(C.jsx)(d.d,{children:"Email"}),Object(C.jsx)(d.d,{children:"Role"})]})}),Object(C.jsx)(d.b,{children:null!==j&&j.map((function(t,n){return Object(C.jsxs)(d.f,{children:[Object(C.jsx)(d.c,{children:"".concat(t.firstName+" "+t.lastName)}),Object(C.jsx)(d.c,{children:"".concat(t.email)}),Object(C.jsx)(d.c,{w:"full",children:Object(C.jsxs)(le.a,{disabled:t.uid===e.uid,width:170,onChange:function(e){return function(e,t){var n=Object(ne.a)(j),c=Object(ne.a)(a),s=e.target.value;"mod"===s&&(n[t].roles[0].isAdmin=!1,n[t].roles[0].isMod=!0),"admin"===s&&(n[t].roles[0].isAdmin=!0,n[t].roles[0].isMod=!1),"user"===s&&(n[t].roles[0].isAdmin=!1,n[t].roles[0].isMod=!1),c.push(t),i(c),b(n)}(e,n)},defaultValue:(c=t.roles[0],c.isAdmin?"admin":c.isMod?"mod":"user"),children:[Object(C.jsx)("option",{value:"admin",children:"Administrator"}),Object(C.jsx)("option",{value:"mod",children:"Moderator"}),Object(C.jsx)("option",{value:"user",children:"User"})]})})]},n);var c}))})]})}),Object(C.jsx)(l.a,{align:"right",children:Object(C.jsx)(x.a,{onClick:function(){var e=[];a.map((function(t){e.push(j[t])})),e.map((function(t){v.collection("users").doc(t.uid).set({userInfo:e[0]})})),h({position:"bottom-left",title:"Users",description:"Users succesfully updated",status:"success",duration:3e3,isClosable:!0})},mt:4,children:"Submit"})})]})},je=n(352),de=function(){var e=R(),t=Object(r.a)(e,1)[0].editQuiz,n=Object(o.a)(),a=Object(s.h)(),i=Object(s.g)(),u=Object(c.useState)(""),j=Object(r.a)(u,2),d=j[0],b=j[1],O=Object(c.useState)([4]),m=Object(r.a)(O,2),f=m[0],p=m[1],g=Object(c.useState)([[]]),v=Object(r.a)(g,2),y=v[0],S=v[1],z=Object(c.useState)([]),q=Object(r.a)(z,2),Q=q[0],N=q[1],A=Object(c.useState)([[]]),k=Object(r.a)(A,2),I=k[0],E=k[1];Object(c.useEffect)((function(){(console.log("sw"),t)&&w.ref("/list").on("value",(function(e){var t=e.val()||null;if(t){for(var n=Object.values(t)[a.IdQuiz-1],c=[],i=[],s=[],r=[],o=0;o<n.questions.length;o++){var l=[];c.push(n.questions[o].question);for(var u=0;u<n.questions[o].answers.length;u++)l.push(n.questions[o].answers[u].name),1==n.questions[o].answers[u].isCorrect&&(r[o]=u);i.push(l),s.push(n.questions[o].answers.length)}b(n.name),p(s),E(c),S(i),N(r)}}))}),[]);var U=function(){for(var e=[],t=0;t<I.length;t++){for(var n=[],c=0;c<f[t];c++)n.push({id:String.fromCharCode(97+c).toUpperCase(),name:y[t][c],isCorrect:Q[t]==c});e.push({question:I[t],answers:n})}return e};return Object(C.jsxs)(ce.a,{align:"center",py:9,flexDirection:"column",children:[Object(C.jsx)(h.a,{children:t?"Edit Quiz":"Create Quiz"}),Object(C.jsx)(l.a,{width:{base:"xs",md:"4xl"},children:Object(C.jsx)(B.a,{align:"left",children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),U();var c=w.ref("/list");t?c.once("value",(function(e){var t=e.val(),n=Object.getOwnPropertyNames(t)[a.IdQuiz-1];c.child(n).update({name:d,questions:U()})})):c.push({name:d,questions:U()}),n({position:"bottom-left",title:"Quiz",description:"Quiz was succesfully ".concat(t?"edited":"created"),status:"success",duration:5e3,isClosable:!0}),i.replace("/Quiz/")},children:[Object(C.jsx)(_.a,{htmlFor:"name",id:"name",children:"Quiz Name"}),Object(C.jsxs)(l.a,{children:[Object(C.jsx)(V.a,{required:!0,value:d,onChange:function(e){return b(e.target.value)},id:"name",type:"text",placeholder:"Enter quiz name",mb:10,width:{base:200,md:300}}),Object(C.jsx)(h.a,{align:"center",fontSize:"3xl",fontWeight:"bold",children:"Questions"})]}),I.map((function(e,t){return Object(C.jsxs)(l.a,{className:"form-inline",align:"left",children:[Object(C.jsxs)(l.a,{children:[Object(C.jsxs)(l.a,{mb:10,children:[Object(C.jsx)(_.a,{children:"Question"}),Object(C.jsx)(V.a,{required:!0,type:"text",name:"question",width:{base:200,md:300},value:e||"",onChange:function(e){return function(e,t){var n=Object(ne.a)(I);n[e]=t.target.value,E(n)}(t,e)}})]}),Object(C.jsx)(ae.a,{name:"choice".concat(t),value:"".concat(Q[t]),children:Object(C.jsx)(F.a,{justifyContent:{base:"",md:"flex-start"},flexWrap:{base:"wrap",md:"nowrap"},children:Array(f[t]).fill(1).map((function(e,n){return Object(C.jsxs)(F.a,{flexWrap:"wrap",flexDirection:"column",mb:{base:5,md:0},children:[Object(C.jsx)(_.a,{children:"Choice ".concat(n+1)}),Object(C.jsx)(V.a,{required:!0,type:"text",name:"choice",value:y[t][n],onChange:function(e){return function(e,t,n){var c=Object(ne.a)(y);c[e][t]=n.target.value,S(c)}(t,n,e)},mr:4,mb:2,width:200}),Object(C.jsx)(ie.a,{isRequired:!0,value:"".concat(n),onClick:function(e){return function(e,t){var n=Object(ne.a)(Q);n[e]=t.target.value,N(n)}(t,e)},children:"Correct answer"})]},n)}))})}),Object(C.jsxs)(F.a,{justifyContent:"space-between",mt:5,children:[Object(C.jsx)(x.a,{colorScheme:"blue",w:"full",mr:6,className:"button add",type:"button",onClick:function(){return function(e){if(f[e]<5){var t=Object(ne.a)(f);t[e]++,p(t)}}(t)},children:"Add Choice"}),Object(C.jsx)(x.a,{w:"full",mr:6,className:"button add",type:"button",onClick:function(){return function(e){if(f[e]>2){var t=Object(ne.a)(f);t[e]--,p(t)}}(t)},children:"Remove Choice"})]})]}),t?Object(C.jsx)(x.a,{mt:30,type:"button",className:"button remove",onClick:function(){return function(e){var t=Object(ne.a)(I),n=Object(ne.a)(y);t.splice(e,1),n.splice(e,1),E(t),S(n),p((function(e){return e.slice(0,-1)})),N((function(e){return e.slice(0,-1)}))}(t)},children:"Remove Question"}):null,Object(C.jsx)(je.a,{colorScheme:"blue",my:45})]},t)})),Object(C.jsxs)(l.a,{align:"center",children:[Object(C.jsx)(x.a,{mr:6,className:"button add",type:"button",onClick:function(){E([].concat(Object(ne.a)(I),[[]])),S([].concat(Object(ne.a)(y),[[]])),p([].concat(Object(ne.a)(f),[4])),N([].concat(Object(ne.a)(Q),[null]))},children:"Add question"}),Object(C.jsx)(x.a,{className:"button submit",type:"submit",colorScheme:"blue",children:"Submit"})]})]})})})]})},be=n(137),he=["component"],Oe=["component"];function me(e){var t=e.component,n=Object(be.a)(e,he),c=Q(),a=c.currentUser,i=c.roles;return Object(C.jsx)(s.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return(i[0].isMod||i[0].isAdmin)&&a?Object(C.jsx)(t,Object(T.a)({},e)):Object(C.jsx)(s.a,{to:"/Quiz/"})}}))}function xe(e){var t=e.component,n=Object(be.a)(e,Oe),c=Q(),a=c.currentUser,i=c.roles;return Object(C.jsx)(s.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return i[0].isAdmin&&a?Object(C.jsx)(t,Object(T.a)({},e)):Object(C.jsx)(s.a,{to:"/Quiz/"})}}))}var fe=function(){return Object(C.jsx)(te.a,{children:Object(C.jsx)(N,{children:Object(C.jsxs)(M,{children:[Object(C.jsx)(K.a,{}),Object(C.jsx)(ee,{}),Object(C.jsxs)(s.d,{children:[Object(C.jsx)(s.b,{path:"/Quiz/",exact:!0,component:D}),Object(C.jsx)(s.b,{path:"/Quiz/auth",component:H}),Object(C.jsx)(me,{path:"/Quiz/create-quiz",component:de}),Object(C.jsx)(me,{path:"/Quiz/edit-quiz/:IdQuiz",component:de}),Object(C.jsx)(xe,{path:"/Quiz/users",component:ue}),Object(C.jsx)(s.b,{path:"/Quiz/quiz/:quizId",component:oe}),Object(C.jsx)(s.b,{path:"*",children:Object(C.jsx)(s.a,{to:"/Quiz/"})})]})]})})})};i.a.render(Object(C.jsx)($.a,{children:Object(C.jsx)(fe,{})}),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.6dd9fcc5.chunk.js.map