(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{195:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(64),i=n.n(a),r=(n(195),n(33)),s=n(10),o=n(357),l=n(331),u=n(332),j=n(356),d=n(338),b=n(339),h=n(359),O=n(340),m=n(355),x=n(176),f=n(135),p=(n(197),n(298),n(299),f.a.initializeApp({apiKey:"AIzaSyAIUyXqlnq0_p7Dtoej_vx1nQvWS-qUcU0",authDomain:"react-69990.firebaseapp.com",databaseURL:"https://react-69990-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-69990",storageBucket:"react-69990.appspot.com",messagingSenderId:"569670275960",appId:"1:569670275960:web:872cb0c1b85921ca502e8d"})),g=f.a.auth(),v=p.firestore(),w=p.database(),y=n(1),S=n.n(y),z=n(5),C=n(9),Q=Object(c.createContext)(null);function q(){return Object(c.useContext)(Q)}var N=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(s.a)(n,2),i=a[0],o=a[1],l=Object(c.useState)([{isAdmin:!1,isMod:!1}]),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)(!0),h=Object(s.a)(b,2),O=h[0],m=h[1],x=Object(r.g)(),f=function(){var e=Object(z.a)(S.a.mark((function e(t,n,c,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.createUserWithEmailAndPassword(t,n).then((function(e){v.collection("users").doc(e.user.uid).set({userInfo:{firstName:c,lastName:a,email:t,uid:e.user.uid,roles:j}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return g.onAuthStateChanged((function(e){(o(e),e)&&(x.replace("/Quiz/"),v.collection("users").doc(e.uid).get().then((function(e){d(e.data().userInfo.roles)})));d([{isAdmin:!1,isMod:!1}]),m(!1)}))}),[]);var p={currentUser:i,signUp:f,login:function(e,t){return g.signInWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},roles:j};return Object(C.jsx)(Q.Provider,{value:p,children:!O&&t})},A=n(333),E=n(334),I=n(335),k=n(341),P=Object(c.createContext)({editQuiz:!1,changeEditQuiz:function(){}}),U=function(){return Object(c.useContext)(P)},W=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],r={editQuiz:a,changeEditQuiz:function(e){i(e)}};return Object(C.jsx)(P.Provider,{value:r,children:e.children})},M=function(){var e=U().changeEditQuiz,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],i=n[1],f=Object(c.useState)([]),p=Object(s.a)(f,2),g=p[0],v=p[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),z=S[0],Q=S[1],N=Object(c.useState)([]),P=Object(s.a)(N,2),W=P[0],M=P[1],R=q(),L=R.currentUser,D=R.roles,T=Object(r.g)(),F=Object(o.a)(),B=function(){w.ref("/list").on("value",(function(e){var t=e.val()||null;t?(i(Object.values(t)),v(Object.getOwnPropertyNames(t))):i([])}))};Object(c.useEffect)((function(){B()}),[w]);var _=function(t){var n=t.row;return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(u.a,{mr:2,"aria-label":"Info",colorScheme:"gray",icon:Object(C.jsx)(A.a,{}),onClick:function(){return e=n,Q((function(e){return!e})),void(z||w.ref("/list/"+g[e]).on("value",(function(e){var t=e.val();if(t&&t.users){var n=Object.entries(t.users),c=[];n.map((function(e){c.push(e[1])})),M(c)}})));var e}}),Object(C.jsx)(u.a,{mr:2,"aria-label":"Edit Quiz",colorScheme:"gray",icon:Object(C.jsx)(E.a,{}),onClick:function(){return t=n,e(!0),void T.replace("/Quiz/edit-quiz/".concat(t+1));var t}}),Object(C.jsx)(u.a,{mr:2,"aria-label":"Remove Quiz",colorScheme:"gray",icon:Object(C.jsx)(I.a,{}),onClick:function(){return e=n,w.ref("/list").child(g[e]).remove(),void B();var e}})]})};return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.a,{children:Object(C.jsxs)(j.a,{isOpen:z,onClose:function(){return Q(!1)},children:[Object(C.jsx)(j.f,{}),Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.e,{children:"Quiz Stats"}),Object(C.jsx)(j.c,{}),Object(C.jsxs)(j.b,{children:[0===W.length&&Object(C.jsx)(d.a,{align:"center",children:"No stats found!"}),0!==W.length&&Object(C.jsxs)(b.a,{variant:"simple",children:[Object(C.jsx)(b.e,{children:Object(C.jsxs)(b.f,{children:[Object(C.jsx)(b.d,{children:"Name"}),Object(C.jsx)(b.d,{children:"Score"})]})}),Object(C.jsx)(b.b,{children:W.map((function(e,t){return Object(C.jsxs)(b.f,{children:[Object(C.jsx)(b.c,{children:"".concat(e.firstName+" "+e.lastName)}),Object(C.jsx)(b.c,{children:"".concat(e.score)})]},t)}))})]})]})]})]})}),Object(C.jsxs)(h.c,{pt:6,spacing:4,children:[Object(C.jsx)(O.a,{pb:3,children:"Quizs"}),null!==a&&a.map((function(e,t){return Object(C.jsx)(h.a,{display:"flex",borderRadius:30,borderWidth:1,bg:"gray.300",py:2,children:Object(C.jsxs)(l.a,{p:4,h:"70px",display:"flex",alignItems:"center",children:[Object(C.jsx)(d.a,{fontSize:20,mr:4,children:e.name}),Object(C.jsxs)(l.a,{display:"flex",alignItems:"center",children:[(D[0].isAdmin||D[0].isMod)&&Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.a,{display:{base:"flex",md:"none"},children:Object(C.jsxs)(m.a,{children:[Object(C.jsxs)(m.d,{w:"160px",children:[Object(C.jsx)(m.b,{}),Object(C.jsx)(m.c,{justifyContent:"center",display:"flex",children:Object(C.jsx)(_,{row:t})})]}),Object(C.jsx)(m.e,{children:Object(C.jsx)(u.a,{mr:2,"aria-label":"options",colorScheme:"gray",icon:Object(C.jsx)(k.a,{})})})]})}),Object(C.jsx)(l.a,{display:{base:"none",md:"flex"},children:Object(C.jsx)(_,{row:t})})]}),Object(C.jsx)(x.a,{mr:2,size:"xs",height:"48px",width:"80px",borderRadius:15,bg:"gray.800",color:"white",_hover:{bg:"gray.700"},onClick:function(){return function(e){L?T.replace("/Quiz/quiz/".concat(e+1)):F({position:"bottom-left",title:"Error",description:"You should be logged in to play quiz!",status:"error",duration:2e3,isClosable:!1})}(t)},children:"Play"})]})]})},t)})),")"]})]})},R=n(45),L=n(342),D=n(345),T=n(70),F=n(343),B=n(363),_=n(344),J=n(172);var V=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],j=q(),d=j.signUp,b=j.login,m=Object(J.a)(),f=m.register,p=m.handleSubmit,g=m.reset,v=(m.getValues,m.setError),w=m.formState,y=w.errors,S=w.isSubmitting;return Object(C.jsx)(L.a,{width:"full",pt:{base:0,md:12},align:"center",justifyContent:"center",children:Object(C.jsx)(l.a,{borderWidth:{base:0,md:1},width:"full",maxWidth:"500px",px:4,textAlign:"center",borderRadius:4,children:Object(C.jsx)(l.a,{my:4,children:Object(C.jsxs)("form",{onSubmit:p((function(e){u(!0),n?b(e.email,e.password).catch((function(){return v("auth",{type:"auth",message:"Incorrect email or password"})})):(e.password!==e.confirmPassword&&v("confirmPassword",{type:"password",message:"Password fields dont match"}),d(e.email,e.password,e.firstName,e.lastName).catch((function(e){var t=e.code;"auth/email-already-in-use"==t&&v("email",{type:"email",message:"Email is already in use."}),"auth/invalid-email"==t&&v("email",{type:"email",message:"Email address is not valid."})}))),u(!1)})),children:[Object(C.jsx)(O.a,{children:n?"Login":"Register"}),Object(C.jsxs)(l.a,{p:4,children:[!n&&Object(C.jsxs)(l.a,{children:[Object(C.jsxs)(T.a,{isInvalid:Boolean(null===y||void 0===y?void 0:y.firstName),children:[Object(C.jsx)(F.a,{pt:4,htmlFor:"firstName",children:"First name"}),Object(C.jsx)(_.a,Object(R.a)({id:"firstName",placeholder:"Enter your first name"},f("firstName",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsx)(B.a,{children:y.firstName&&y.firstName.message})]}),Object(C.jsxs)(T.a,{isInvalid:Boolean(null===y||void 0===y?void 0:y.lastName),children:[Object(C.jsx)(F.a,{pt:4,htmlFor:"lastName",children:"Last name"}),Object(C.jsx)(_.a,Object(R.a)({id:"lastName",placeholder:"Enter your last name"},f("lastName",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsx)(B.a,{children:y.lastName&&y.lastName.message})]})]}),Object(C.jsxs)(T.a,{isInvalid:Boolean((null===y||void 0===y?void 0:y.email)||(null===y||void 0===y?void 0:y.auth)),children:[Object(C.jsx)(F.a,{pt:4,htmlFor:"email",children:"Email address"}),Object(C.jsx)(_.a,Object(R.a)({id:"email",placeholder:"Enter your email address"},f("email",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(C.jsxs)(B.a,{children:[y.email&&y.email.message,y.auth&&y.auth.message]})]}),Object(C.jsxs)(T.a,{isInvalid:Boolean((null===y||void 0===y?void 0:y.password)||(null===y||void 0===y?void 0:y.auth)),children:[Object(C.jsx)(F.a,{pt:4,htmlFor:"password",children:"Password"}),Object(C.jsx)(_.a,Object(R.a)({id:"password",type:"password",placeholder:"Enter your password"},f("password",{required:"This is required",minLength:{value:6,message:"Minimum length should be 6"}}))),Object(C.jsxs)(B.a,{children:[y.auth&&y.auth.message,y.password&&y.password.message]})]}),!n&&Object(C.jsxs)(T.a,{isInvalid:Boolean(null===y||void 0===y?void 0:y.confirmPassword),children:[Object(C.jsx)(F.a,{pt:4,htmlFor:"password",children:"Confirm Password"}),Object(C.jsx)(_.a,Object(R.a)({id:"confirmPassword",type:"password",placeholder:"Enter your password"},f("confirmPassword",{required:!0}))),Object(C.jsx)(B.a,{children:y.confirmPassword&&y.confirmPassword.message})]})]}),Object(C.jsx)(x.a,{type:"submit",isLoading:S,width:"full",colorScheme:"blue",children:o?"Sending request...":n?"Sign In":"Sign Up"}),Object(C.jsx)(h.b,{pt:2,children:Object(C.jsx)(D.a,{onClick:function(){g(),a((function(e){return!e}))},children:n?"Create new account":"Login with an existing account"})})]})})})})},X=n(353),H=n(346),K=n(347),Y=n(348),G=n(47),Z=function(){var e=q(),t=e.currentUser,n=e.logout,a=e.roles,i=Object(c.useState)(!1),o=Object(s.a)(i,2),u=o[0],j=o[1],b=Object(r.g)(),h=U().changeEditQuiz,O=function(){h(!1)},m=function(e){var t=e.isLast,n=void 0!==t&&t,c=e.isCreate,a=void 0!==c&&c,i=e.to,r=void 0===i?"/":i,s=e.children;return Object(C.jsxs)(d.a,{mb:{base:n?0:8,sm:0},mr:{base:0,sm:n?0:8},display:"block",fontSize:"lg",fontWeight:"bold",children:[a&&Object(C.jsx)(G.b,{to:r,onClick:O,children:s}),!a&&Object(C.jsx)(G.b,{to:r,children:s})]})};return Object(C.jsx)(l.a,{as:"nav",mb:4,p:4,bg:"blue.500",color:"white",position:"sticky",children:Object(C.jsx)(H.a,{maxW:"container.lg",children:Object(C.jsxs)(L.a,{justify:"space-between",align:"center",wrap:"wrap",children:[Object(C.jsx)(l.a,{children:Object(C.jsx)(d.a,{fontSize:"2xl",fontWeight:"bold",children:Object(C.jsx)(G.b,{to:"/Quiz/",children:"Quiz"})})}),Object(C.jsx)(l.a,{display:{base:"block",md:"none"},onClick:function(){return j(!u)},children:u?Object(C.jsx)(K.a,{}):Object(C.jsx)(Y.a,{})}),Object(C.jsx)(l.a,{display:{base:u?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"},children:Object(C.jsxs)(L.a,{align:"center",justify:["center","space-between"],direction:["column","row"],children:[t&&a[0].isAdmin&&Object(C.jsx)(m,{to:"/Quiz/users",children:"Users"}),t&&(a[0].isMod||a[0].isAdmin)&&Object(C.jsx)(m,{isCreate:!0,to:"/Quiz/create-quiz",children:"Create Quiz"}),t?Object(C.jsx)(D.a,{style:{textDecoration:"none"},fontSize:"lg",fontWeight:"bold",onClick:function(e){e.preventDefault(),n(),b.push("/Quiz/")},children:"Logout"}):Object(C.jsx)(m,{to:"/Quiz/auth",isLast:!0,children:"Sign In"})]})})]})})})},$=n(358),ee=n(17),te=n(349),ne=n(117),ce=n(360),ae=n(133),ie=n(173);ae.Chart.pluginService.register({beforeDraw:function(e){if(e.config.options.elements.center){var t=e.chart.ctx,n=e.config.options.elements.center,c=n.fontStyle||"Arial",a=n.text,i=n.color||"#000",r=n.maxFontSize||75,s=(n.sidePadding||20)/100*(2*e.innerRadius);t.font="30px "+c;var o=t.measureText(a).width,l=2*e.innerRadius-s,u=l/o,j=Math.floor(30*u),d=2*e.innerRadius,b=Math.min(j,d,r),h=n.minFontSize,O=n.lineHeight||25,m=!1;void 0===h&&(h=20),h&&b<h&&(b=h,m=!0),t.textAlign="center",t.textBaseline="middle";var x=(e.chartArea.left+e.chartArea.right)/2,f=(e.chartArea.top+e.chartArea.bottom)/2;if(t.font=b+"px "+c,t.fillStyle=i,!m)return void t.fillText(a,x,f);for(var p=a.split(" "),g="",v=[],w=0;w<p.length;w++){var y=g+p[w]+" ";t.measureText(y).width>l&&w>0?(v.push(g),g=p[w]+" "):g=y}f-=v.length/2*O;for(w=0;w<v.length;w++)t.fillText(v[w],x,f),f+=O;t.fillText(g,x,f)}}});var re=function(e){var t=e.score/e.totalScore*100,n={datasets:[{data:[t,100-t],backgroundColor:["#0087c5","#cde0f1"],borderWidth:.5}]},c={legend:{display:!1},elementsCustom:{center:{text:"".concat(t.toFixed(0),"%"),color:"white"}},tooltips:{enabled:!1}};return Object(C.jsx)(ie.Doughnut,{data:n,width:300,height:200,options:c})},se=function(e){return Object(C.jsxs)(l.a,{maxW:{base:"xs",md:"500px"},w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:[Object(C.jsx)(l.a,{bg:"gray.800",children:Object(C.jsx)(d.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,children:"Score: ".concat(e.score," / ").concat(e.total)})}),Object(C.jsx)(l.a,{py:4,children:Object(C.jsx)(re,{score:e.score,totalScore:e.total})})]})},oe=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),o=Object(s.a)(i,2),u=o[0],j=o[1],b=Object(c.useState)(!1),O=Object(s.a)(b,2),m=O[0],f=O[1],p=Object(c.useState)(""),g=Object(s.a)(p,2),y=g[0],S=g[1],z=Object(c.useState)(!1),Q=Object(s.a)(z,2),N=Q[0],A=Q[1],E=Object(c.useState)([]),I=Object(s.a)(E,2),k=I[0],P=I[1],U=Object(c.useState)(0),W=Object(s.a)(U,2),M=W[0],R=W[1],D=Object(r.h)().quizId,T=q().currentUser,F=D-1;Object(c.useEffect)((function(){if(!N){var e=w.ref("/list"),t=e.on("value",(function(e){var t=e.val()||null;if(t){var n=Object.values(t);a(n[F].questions),S(Object.getOwnPropertyNames(t)[F])}}));return function(){return e.off("value",t)}}}),[]);return Object(C.jsx)(l.a,{children:0!==n.length&&Object(C.jsxs)(te.a,{py:9,flexDirection:"column",children:[Object(C.jsx)(d.a,{textAlign:"center",fontSize:"25",fontWeight:"bold",py:4,children:m?"Quiz Results":"Question ".concat(u+1," of ").concat(n.length)}),!m&&Object(C.jsx)(l.a,{maxW:{base:"xs",md:"500px"},w:"full",bg:"blue.500",pb:8,boxShadow:"2xl",overflow:"hidden",rounded:"md",children:Object(C.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),A(!0),u+1<n.length)j(u+1);else{var t=0;n.map((function(e,n){e.answers.map((function(e,c){e.isCorrect&&c==k[n]&&t++}))})),R(t),f(!0),v.collection("users").doc(T.uid).get().then((function(e){var n=e.data().userInfo;w.ref().child("/list/").child(y).child("users").child(T.uid).set({firstName:n.firstName,lastName:n.lastName,email:n.email,score:t})}))}A(!1)},children:[Object(C.jsx)(l.a,{bg:"gray.800",children:Object(C.jsx)(d.a,{color:"white",textAlign:"center",textTransform:"uppercase",fontSize:"20",py:3,px:10,children:n[u].question})}),Object(C.jsx)(h.c,{spacing:2,pt:8,children:Object(C.jsx)(ne.a,{name:"choice",value:"".concat(k[u]),children:n[u].answers.map((function(e,t){return Object(C.jsxs)(L.a,{borderRadius:15,bgColor:"white",my:4,py:1,px:2,align:"center",w:{base:"200px",md:"400px"},onClick:function(){return function(e){var t=Object(ee.a)(k);t[u]=e,P(t)}(t)},children:[Object(C.jsx)(ce.a,{size:"lg",isRequired:!0,value:"".concat(t)}),Object(C.jsx)(d.a,{fontSize:28,px:3,maxW:30,fontWeight:"bold",children:e.id}),Object(C.jsx)(d.a,{pl:4,fontSize:20,children:e.name})]},t)}))})}),Object(C.jsxs)(L.a,{justifyContent:"space-around",children:[Object(C.jsx)(x.a,{onClick:function(){u+1>1&&j(u-1)},children:"Previous question"}),Object(C.jsx)(x.a,{type:"submit",children:n.length-1==u?"Submit quiz":"Next question"})]})]})}),m&&Object(C.jsx)(se,{score:M,total:n.length})]})})},le=n(351),ue=function(){var e=q().currentUser,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),u=Object(s.a)(r,2),j=u[0],d=u[1],h=Object(o.a)();Object(c.useEffect)((function(){v.collection("users").get().then((function(e){var t=Object(ee.a)(j);e.forEach((function(e){var n=e.data().userInfo;t.push(n)})),d(t)}))}),[]);return Object(C.jsxs)(H.a,{children:[Object(C.jsx)(l.a,{overflowX:{base:"auto",md:"hidden"},children:Object(C.jsxs)(b.a,{variant:"simple",w:"md",children:[Object(C.jsx)(b.e,{children:Object(C.jsxs)(b.f,{children:[Object(C.jsx)(b.d,{children:"Name"}),Object(C.jsx)(b.d,{children:"Email"}),Object(C.jsx)(b.d,{children:"Role"})]})}),Object(C.jsx)(b.b,{children:null!==j&&j.map((function(t,n){return Object(C.jsxs)(b.f,{children:[Object(C.jsx)(b.c,{children:"".concat(t.firstName+" "+t.lastName)}),Object(C.jsx)(b.c,{children:"".concat(t.email)}),Object(C.jsx)(b.c,{w:"full",children:Object(C.jsxs)(le.a,{disabled:t.uid===e.uid,width:170,onChange:function(e){return function(e,t){var n=Object(ee.a)(j),c=Object(ee.a)(a),r=e.target.value;"mod"===r&&(n[t].roles[0].isAdmin=!1,n[t].roles[0].isMod=!0),"admin"===r&&(n[t].roles[0].isAdmin=!0,n[t].roles[0].isMod=!1),"user"===r&&(n[t].roles[0].isAdmin=!1,n[t].roles[0].isMod=!1),c.push(t),i(c),d(n)}(e,n)},defaultValue:(c=t.roles[0],c.isAdmin?"admin":c.isMod?"mod":"user"),children:[Object(C.jsx)("option",{value:"admin",children:"Administrator"}),Object(C.jsx)("option",{value:"mod",children:"Moderator"}),Object(C.jsx)("option",{value:"user",children:"User"})]})})]},n);var c}))})]})}),Object(C.jsx)(l.a,{align:"right",children:Object(C.jsx)(x.a,{onClick:function(){var e=[];a.map((function(t){e.push(j[t])})),e.map((function(t){v.collection("users").doc(t.uid).set({userInfo:e[0]})})),h({position:"bottom-left",title:"Users",description:"Users succesfully updated",status:"success",duration:3e3,isClosable:!0})},mt:4,children:"Submit"})})]})},je=n(352),de=function(){var e=U().editQuiz,t=Object(o.a)(),n=Object(r.h)().IdQuiz,a=Object(r.g)(),i=Object(c.useState)(""),u=Object(s.a)(i,2),j=u[0],d=u[1],b=Object(c.useState)([4]),h=Object(s.a)(b,2),m=h[0],f=h[1],p=Object(c.useState)([[]]),g=Object(s.a)(p,2),v=g[0],y=g[1],S=Object(c.useState)([null]),z=Object(s.a)(S,2),Q=z[0],q=z[1],N=Object(c.useState)([[]]),A=Object(s.a)(N,2),E=A[0],I=A[1];Object(c.useEffect)((function(){e&&w.ref("/list").on("value",(function(e){var t=e.val()||null;if(t){var c=Object.values(t)[n-1],a=[],i=[],r=[],s=[];c.questions.forEach((function(e,t){var n=[];a.push(e.question),e.answers.forEach((function(e,c){n.push(e.name),e.isCorrect&&(s[t]=c)})),i.push(n),r.push(e.answers.length)})),d(c.name),f(r),I(a),y(i),q(s)}}))}),[]);var k=function(){for(var e=[],t=0;t<E.length;t++){for(var n=[],c=0;c<m[t];c++)n.push({id:String.fromCharCode(97+c).toUpperCase(),name:v[t][c],isCorrect:Q[t]==c});e.push({question:E[t],answers:n})}return e};return Object(C.jsxs)(te.a,{align:"center",py:9,flexDirection:"column",children:[Object(C.jsx)(O.a,{children:e?"Edit Quiz":"Create Quiz"}),Object(C.jsx)(l.a,{width:{base:"xs",md:"4xl"},children:Object(C.jsx)(T.a,{align:"left",children:Object(C.jsxs)("form",{onSubmit:function(c){c.preventDefault(),k();var i=w.ref("/list");e?i.once("value",(function(e){var t=e.val(),c=Object.getOwnPropertyNames(t)[n-1];i.child(c).update({name:j,questions:k()})})):i.push({name:j,questions:k()}),t({position:"bottom-left",title:"Quiz",description:"Quiz was succesfully ".concat(e?"edited":"created"),status:"success",duration:5e3,isClosable:!0}),a.replace("/Quiz/")},children:[Object(C.jsx)(F.a,{htmlFor:"name",id:"name",children:"Quiz Name"}),Object(C.jsxs)(l.a,{children:[Object(C.jsx)(_.a,{required:!0,value:j,onChange:function(e){return d(e.target.value)},id:"name",type:"text",placeholder:"Enter quiz name",mb:10,width:{base:200,md:300}}),Object(C.jsx)(O.a,{align:"center",fontSize:"3xl",fontWeight:"bold",children:"Questions"})]}),E.map((function(e,t){return Object(C.jsxs)(l.a,{className:"form-inline",align:"left",children:[Object(C.jsxs)(l.a,{children:[Object(C.jsxs)(l.a,{mb:10,children:[Object(C.jsx)(F.a,{children:"Question"}),Object(C.jsx)(_.a,{required:!0,type:"text",name:"question",width:{base:200,md:300},value:e||"",onChange:function(e){return function(e,t){var n=Object(ee.a)(E);n[e]=t.target.value,I(n)}(t,e)}})]}),Object(C.jsx)(ne.a,{name:"choice".concat(t),value:"".concat(Q[t]),children:Object(C.jsx)(L.a,{justifyContent:{base:"",md:"flex-start"},flexWrap:{base:"wrap",md:"nowrap"},children:Array(m[t]).fill(1).map((function(e,n){return Object(C.jsxs)(L.a,{flexWrap:"wrap",flexDirection:"column",mb:{base:5,md:0},children:[Object(C.jsx)(F.a,{children:"Choice ".concat(n+1)}),Object(C.jsx)(_.a,{required:!0,type:"text",name:"choice",value:v[t][n],onChange:function(e){return function(e,t,n){var c=Object(ee.a)(v);c[e][t]=n.target.value,y(c)}(t,n,e)},mr:4,mb:2,width:200}),Object(C.jsx)(ce.a,{isRequired:!0,value:"".concat(n),onChange:function(e){return function(e,t){var n=Object(ee.a)(Q);n[e]=t.target.value,q(n)}(t,e)},children:"Correct answer"})]},n)}))})}),Object(C.jsxs)(L.a,{justifyContent:"space-between",mt:5,children:[Object(C.jsx)(x.a,{colorScheme:"blue",w:"full",mr:6,className:"button add",type:"button",onClick:function(){return function(e){if(m[e]<5){var t=Object(ee.a)(m);t[e]++,f(t)}}(t)},children:"Add Choice"}),Object(C.jsx)(x.a,{w:"full",mr:6,className:"button add",type:"button",onClick:function(){return function(e){if(m[e]>2){var t=Object(ee.a)(m);t[e]--,f(t)}}(t)},children:"Remove Choice"})]})]}),t?Object(C.jsx)(x.a,{mt:30,type:"button",className:"button remove",onClick:function(){return function(e){var t=Object(ee.a)(E),n=Object(ee.a)(v);t.splice(e,1),n.splice(e,1),I(t),y(n),f((function(e){return e.slice(0,-1)})),q((function(e){return e.slice(0,-1)}))}(t)},children:"Remove Question"}):null,Object(C.jsx)(je.a,{colorScheme:"blue",my:45})]},t)})),Object(C.jsxs)(l.a,{align:"center",children:[Object(C.jsx)(x.a,{mr:6,className:"button add",type:"button",onClick:function(){I([].concat(Object(ee.a)(E),[[]])),y([].concat(Object(ee.a)(v),[[]])),f([].concat(Object(ee.a)(m),[4])),q([].concat(Object(ee.a)(Q),[null]))},children:"Add question"}),Object(C.jsx)(x.a,{className:"button submit",type:"submit",colorScheme:"blue",children:"Submit"})]})]})})})]})},be=n(137),he=["component"],Oe=["component"];function me(e){var t=e.component,n=Object(be.a)(e,he),c=q(),a=c.currentUser,i=c.roles;return Object(C.jsx)(r.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return(i[0].isMod||i[0].isAdmin)&&a?Object(C.jsx)(t,Object(R.a)({},e)):Object(C.jsx)(r.a,{to:"/Quiz/"})}}))}function xe(e){var t=e.component,n=Object(be.a)(e,Oe),c=q(),a=c.currentUser,i=c.roles;return Object(C.jsx)(r.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return i[0].isAdmin&&a?Object(C.jsx)(t,Object(R.a)({},e)):Object(C.jsx)(r.a,{to:"/Quiz/"})}}))}var fe=function(){return Object(C.jsx)($.a,{children:Object(C.jsx)(N,{children:Object(C.jsxs)(W,{children:[Object(C.jsx)(X.a,{}),Object(C.jsx)(Z,{}),Object(C.jsxs)(r.d,{children:[Object(C.jsx)(r.b,{path:"/Quiz/",exact:!0,component:M}),Object(C.jsx)(r.b,{path:"/Quiz/auth",component:V}),Object(C.jsx)(me,{path:"/Quiz/create-quiz",component:de}),Object(C.jsx)(me,{path:"/Quiz/edit-quiz/:IdQuiz",component:de}),Object(C.jsx)(xe,{path:"/Quiz/users",component:ue}),Object(C.jsx)(r.b,{path:"/Quiz/quiz/:quizId",component:oe}),Object(C.jsx)(r.b,{path:"*",children:Object(C.jsx)(r.a,{to:"/Quiz/"})})]})]})})})};i.a.render(Object(C.jsx)(G.a,{children:Object(C.jsx)(fe,{})}),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.5f237c47.chunk.js.map